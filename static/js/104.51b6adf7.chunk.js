"use strict";(self.webpackChunkblutdruck_tracker=self.webpackChunkblutdruck_tracker||[]).push([[104],{2825:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(3797).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},3458:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(3797).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3666:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(3797).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},7104:(e,t,s)=>{s.r(t),s.d(t,{default:()=>N});var a=s(5043),n=s(3458),r=s(2825),i=s(3666),l=s(2543),o=s(2938),d=s(5275),c=s(5099),m=s(108),h=s(3014),g=s(8763),u=s(2185),y=s(6026),x=s(3831),b=(0,h.gu)({chartName:"BarChart",GraphicalChild:g.y,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:u.W},{axisType:"yAxis",AxisComp:y.h}],formatAxisMap:x.pr}),f=s(7734),p=s(6150),j=s(1327),v=s(5748),D=s(168),k=s(3243),S=s(579);const N=e=>{let{data:t,contextFactors:s,darkMode:h}=e;const x={text:h?"#d1d5db":"#374151",grid:h?"#374151":"#e5e7eb",tooltip:{contentStyle:{backgroundColor:h?"#1f2937":"#ffffff",border:"1px solid "+(h?"#374151":"#e5e7eb"),borderRadius:"0.375rem"},labelStyle:{color:h?"#d1d5db":"#374151"},itemStyle:{color:h?"#d1d5db":"#374151"}}},N=e=>{if(!e)return(new Date).getFullYear();const t=e.match(/\b(20\d{2})\b/);return t?parseInt(t[1]):(new Date).getFullYear()},M=e=>{if(!e)return null;const t=N(e),s={Januar:0,Februar:1,"M\xe4rz":2,April:3,Mai:4,Juni:5,Juli:6,August:7,September:8,Oktober:9,November:10,Dezember:11};if(e.includes(" ")&&!e.includes(".")){const a=e.split(" ");if(a.length>=2&&void 0!==s[a[0]]){const e=a[0],n=parseInt(a[1]);if(!isNaN(n))return new Date(t,s[e],n)}}if(e.includes(".")&&e.includes(" ")){const a=e.split(". ");if(a.length>=2){const e=parseInt(a[0]),n=a[1].split(" ")[0];if(!isNaN(e)&&void 0!==s[n])return new Date(t,s[n],e)}}return null},A=e=>{if(!e)return null;const t=N(e);if(e.includes(" ")&&!e.includes(".")){const s=e.split(" "),a=s[0];let n=s[1];n.includes(",")&&(n=n.split(",")[0]);return`${t}-${{Januar:"01",Februar:"02","M\xe4rz":"03",April:"04",Mai:"05",Juni:"06",Juli:"07",August:"08",September:"09",Oktober:"10",November:"11",Dezember:"12"}[a]||"01"}-${n.padStart(2,"0")}`}if(e.includes(".")&&e.includes(" ")){let s,a;if(e.startsWith(e.match(/\d+/)[0])){const t=e.split(". ");s=t[0];a=t[1].split(" ")[0]}else{const t=e.split(" ");a=t[0],s=t[1].replace(".","").trim()}return`${t}-${{Januar:"01",Februar:"02","M\xe4rz":"03",April:"04",Mai:"05",Juni:"06",Juli:"07",August:"08",September:"09",Oktober:"10",November:"11",Dezember:"12"}[a]||"01"}-${s.padStart(2,"0")}`}return e.match(/^\d{4}-\d{2}-\d{2}$/)?e:null},w=e=>{if(!e||e.length<2)return 0;const t=e.reduce((e,t)=>e+t,0)/e.length,s=e.map(e=>Math.pow(e-t,2)).reduce((e,t)=>e+t,0)/e.length;return Math.round(10*Math.sqrt(s))/10},z=(0,a.useMemo)(()=>{if(!t||0===t.length)return null;const e=t.filter(e=>e.morgenSys>0&&e.morgenDia>0&&e.abendSys>0&&e.abendDia>0);if(e.length<3)return{hasEnoughData:!1,message:"Zu wenige Tage haben sowohl Morgen- als auch Abendmessungen f\xfcr eine sinnvolle Analyse."};const s={sys:Math.round(e.reduce((e,t)=>e+t.morgenSys,0)/e.length),dia:Math.round(e.reduce((e,t)=>e+t.morgenDia,0)/e.length)},a={sys:Math.round(e.reduce((e,t)=>e+t.abendSys,0)/e.length),dia:Math.round(e.reduce((e,t)=>e+t.abendDia,0)/e.length)},n={sys:a.sys-s.sys,dia:a.dia-s.dia},r={sys:w(e.map(e=>e.morgenSys)),dia:w(e.map(e=>e.morgenDia))},i={sys:w(e.map(e=>e.abendSys)),dia:w(e.map(e=>e.abendDia))},l=[{name:"Morgen",systolisch:s.sys,diastolisch:s.dia},{name:"Abend",systolisch:a.sys,diastolisch:a.dia}],o=[...e].sort((e,t)=>{const s=M(e.datum),a=M(t.datum);return s&&a?s-a:0}).map(e=>({datum:e.datum,morgensys:e.morgenSys,morgendi:e.morgenDia,abendsys:e.abendSys,abenddia:e.abendDia,sysdiff:e.abendSys-e.morgenSys,diadiff:e.abendDia-e.morgenDia}));let d="";return d=Math.abs(n.sys)<=5&&Math.abs(n.dia)<=5?"Ihr Blutdruck ist \xfcber den Tag hinweg relativ stabil.":n.sys>5||n.dia>5?`Ihr Blutdruck ist abends durchschnittlich h\xf6her als morgens (${n.sys>0?"+":""}${n.sys}/${n.dia>0?"+":""}${n.dia} mmHg). Dies k\xf6nnte mit Aktivit\xe4t, Stress oder Mahlzeiten zusammenh\xe4ngen.`:`Ihr Blutdruck ist morgens durchschnittlich h\xf6her als abends (${n.sys}/${n.dia} mmHg). Dies ist f\xfcr manche Menschen normal, k\xf6nnte aber wichtig f\xfcr Ihre Medikamentenplanung sein.`,(Math.abs(n.sys)>15||Math.abs(n.dia)>10)&&(d+=" Die Differenz zwischen morgens und abends ist signifikant, was f\xfcr Ihren Arzt interessant sein k\xf6nnte."),{hasEnoughData:!0,message:null,avgMorning:s,avgEvening:a,timeDiff:n,stdDevMorning:r,stdDevEvening:i,chartData:l,dailyPatternData:o,interpretation:d}},[t]),E=(0,a.useMemo)(()=>{if(!t||t.length<7)return null;const e={Mo:1,Di:2,Mi:3,Do:4,Fr:5,Sa:6,So:7},s={1:"Montag",2:"Dienstag",3:"Mittwoch",4:"Donnerstag",5:"Freitag",6:"Samstag",7:"Sonntag"},a={};for(let t=1;t<=7;t++)a[t]={morgenSys:[],morgenDia:[],abendSys:[],abendDia:[],count:0};t.forEach(t=>{const s=e[t.tag];s&&(t.morgenSys>0&&t.morgenDia>0&&(a[s].morgenSys.push(t.morgenSys),a[s].morgenDia.push(t.morgenDia)),t.abendSys>0&&t.abendDia>0&&(a[s].abendSys.push(t.abendSys),a[s].abendDia.push(t.abendDia)),(t.morgenSys>0&&t.morgenDia>0||t.abendSys>0&&t.abendDia>0)&&a[s].count++)});const n=[];let r=!0;for(let t=1;t<=7;t++){const i=a[t];i.count<2&&(r=!1);const l=i.morgenSys.length>0?Math.round(i.morgenSys.reduce((e,t)=>e+t,0)/i.morgenSys.length):null,o=i.morgenDia.length>0?Math.round(i.morgenDia.reduce((e,t)=>e+t,0)/i.morgenDia.length):null,d=i.abendSys.length>0?Math.round(i.abendSys.reduce((e,t)=>e+t,0)/i.abendSys.length):null,c=i.abendDia.length>0?Math.round(i.abendDia.reduce((e,t)=>e+t,0)/i.abendDia.length):null;n.push({name:s[t],shortName:Object.keys(e).find(s=>e[s]===t),sort:t,morgenSys:l,morgenDia:o,abendSys:d,abendDia:c,count:i.count})}let i="";if(r){const e=n.filter(e=>e.sort>=1&&e.sort<=5),t=n.filter(e=>e.sort>=6&&e.sort<=7),s=e.reduce((e,t)=>e+(t.morgenSys||0),0)/e.length,a=t.reduce((e,t)=>e+(t.morgenSys||0),0)/t.length;i=Math.abs(s-a)>5?s>a?"Ihr Blutdruck ist an Wochentagen tendenziell h\xf6her als am Wochenende. Dies k\xf6nnte mit Arbeits- oder Alltagsstress zusammenh\xe4ngen.":"Ihr Blutdruck ist am Wochenende tendenziell h\xf6her als an Wochentagen. Dies k\xf6nnte mit ver\xe4ndertem Ess- oder Trinkverhalten, weniger Bewegung oder ver\xe4ndertem Schlafrhythmus zusammenh\xe4ngen.":"Es gibt keine auff\xe4lligen Unterschiede zwischen Ihrem Blutdruck an Wochentagen und am Wochenende."}else i="F\xfcr einige Wochentage liegen noch nicht gen\xfcgend Daten vor. Die Analyse wird genauer, wenn Sie mehr Messungen f\xfcr alle Wochentage haben.";return{hasEnoughData:r,weekdayData:n,interpretation:i}},[t,N,A]),$=(0,a.useMemo)(()=>{if(!t||t.length<30)return{hasEnoughData:!1,message:"F\xfcr eine jahreszeitliche Analyse werden Daten \xfcber einen l\xe4ngeren Zeitraum ben\xf6tigt (mindestens 30 Tage)."};const e={Januar:1,Februar:2,"M\xe4rz":3,April:4,Mai:5,Juni:6,Juli:7,August:8,September:9,Oktober:10,November:11,Dezember:12},s=["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],a={};t.forEach(t=>{let s=null,n=N(t.datum);if(t.datum.includes(" ")&&!t.datum.includes(".")){const a=t.datum.split(" ");s=e[a[0]]}else if(t.datum.includes(".")){const a=t.datum.split(". ");if(a.length>1){const t=a[1].split(" ")[0];s=e[t]}}if(!s)return;const r=`${n}-${s}`;a[r]||(a[r]={month:s,year:n,systolicValues:[],diastolicValues:[],count:0}),t.morgenSys>0&&t.morgenDia>0&&(a[r].systolicValues.push(t.morgenSys),a[r].diastolicValues.push(t.morgenDia),a[r].count++),t.abendSys>0&&t.abendDia>0&&(a[r].systolicValues.push(t.abendSys),a[r].diastolicValues.push(t.abendDia),a[r].count++)});const n=Object.values(a).filter(e=>e.count>0).length;if(n<2)return{hasEnoughData:!1,message:"Daten aus mindestens 2 verschiedenen Monaten werden f\xfcr eine jahreszeitliche Analyse ben\xf6tigt."};const r=Object.values(a).map(e=>{const t=Math.round(e.systolicValues.reduce((e,t)=>e+t,0)/e.systolicValues.length),a=Math.round(e.diastolicValues.reduce((e,t)=>e+t,0)/e.diastolicValues.length);return{month:e.month,year:e.year,name:s[e.month-1],displayName:`${s[e.month-1]} ${e.year}`,systolisch:t,diastolisch:a,count:e.count}});r.sort((e,t)=>e.year!==t.year?e.year-t.year:e.month-t.month);const i={winter:{months:[12,1,2],values:[],name:"Winter"},spring:{months:[3,4,5],values:[],name:"Fr\xfchling"},summer:{months:[6,7,8],values:[],name:"Sommer"},autumn:{months:[9,10,11],values:[],name:"Herbst"}};r.forEach(e=>{for(const[t,s]of Object.entries(i))if(s.months.includes(e.month)){s.values.push(e.systolisch);break}});const l=[];for(const[t,d]of Object.entries(i))if(d.values.length>0){const e=Math.round(d.values.reduce((e,t)=>e+t,0)/d.values.length);l.push({name:d.name,systolisch:e,count:d.values.length})}let o="";if(n<6)o="F\xfcr eine vollst\xe4ndige jahreszeitliche Analyse werden Daten aus mehr Monaten ben\xf6tigt. Die vorhandenen Daten geben jedoch erste Einblicke.";else if(l.length>=3){const e=l.reduce((e,t)=>t.systolisch>e.systolisch?t:e,l[0]),t=l.reduce((e,t)=>t.systolisch<e.systolisch?t:e,l[0]);o=e.systolisch-t.systolisch>5?`Ihr Blutdruck scheint im ${e.name} h\xf6her zu sein als im ${t.name}. Jahreszeitliche Schwankungen des Blutdrucks sind normal und k\xf6nnen durch Temperaturen, Aktivit\xe4tslevel und Ern\xe4hrung beeinflusst werden.`:"Es gibt keine signifikanten jahreszeitlichen Schwankungen in Ihrem Blutdruck basierend auf den verf\xfcgbaren Daten."}else o="Es liegen noch nicht gen\xfcgend Daten aus verschiedenen Jahreszeiten vor f\xfcr eine saisonale Analyse.";return{hasEnoughData:!0,monthlyData:r,seasonalData:l,monthsWithData:n,interpretation:o}},[t,N]),W=(0,a.useMemo)(()=>{if(!t||!s||0===Object.keys(s).length)return{hasEnoughData:!1,message:"Es liegen keine Kontextfaktoren vor oder sie sind nicht mit den Blutdruckdaten verkn\xfcpft."};const e=[];if(t.forEach(t=>{const a=A(t.datum);if(!a||!s[a])return;const n=s[a];e.push({...t,context:n})}),e.length<5)return{hasEnoughData:!1,message:"Es werden mindestens 5 Messungen mit Kontextfaktoren ben\xf6tigt, um Korrelationen zu erkennen."};const a={stress:"Stress",sleep:"Schlafqualit\xe4t",activity:"Aktivit\xe4t",salt:"Salzkonsum",caffeine:"Koffein",alcohol:"Alkohol"},n={};["stress","sleep","activity","salt","caffeine","alcohol"].forEach(t=>{const s={0:[],1:[],2:[]};e.forEach(e=>{const a=e.context[t];void 0!==a&&null!==a&&(e.morgenSys>0&&s[a].push(e.morgenSys),e.abendSys>0&&s[a].push(e.abendSys))});const r={};let i=!0;for(let e=0;e<=2;e++)s[e].length<3?(i=!1,r[e]=s[e].length>0?Math.round(s[e].reduce((e,t)=>e+t,0)/s[e].length):null):r[e]=Math.round(s[e].reduce((e,t)=>e+t,0)/s[e].length);let l=null,o="unbekannt";if(i&&null!==r[0]&&null!==r[2]){const e=r[2]-r[0];Math.abs(e)<=3?(l="neutral",o="gering"):e>0?(l="positiv",o=Math.abs(e)>8?"stark":"mittel"):(l="negativ",o=Math.abs(e)>8?"stark":"mittel")}const d=[],c={stress:["Niedrig","Mittel","Hoch"],sleep:["Schlecht","Mittel","Gut"],activity:["Niedrig","Mittel","Hoch"],salt:["Niedrig","Mittel","Hoch"],caffeine:["Niedrig","Mittel","Hoch"],alcohol:["Keiner","Wenig","Viel"]};for(let e=0;e<=2;e++)null!==r[e]&&d.push({name:c[t][e],value:e,systolisch:r[e],anzahl:s[e].length});n[t]={name:a[t],hasEnoughDataPoints:i,valueAverages:r,correlation:l,impact:o,chartData:d}});let r="Basierend auf Ihren Daten wurden folgende Einfl\xfcsse auf Ihren Blutdruck erkannt:\n";const i=Object.entries(n).filter(e=>{let[t,s]=e;return s.correlation&&"gering"!==s.impact}).map(e=>{let[t,s]=e;const a="positiv"===s.correlation?"erh\xf6ht":"senkt",n="stark"===s.impact?"deutlich":"moderat";return"sleep"===t&&"negativ"===s.correlation?`Bessere ${s.name} ${a} Ihren Blutdruck ${n}`:"sleep"===t&&"positiv"===s.correlation?`Schlechtere ${s.name} ${a} Ihren Blutdruck ${n}`:"positiv"===s.correlation?`H\xf6herer ${s.name} ${a} Ihren Blutdruck ${n}`:`Niedrigerer ${s.name} ${a} Ihren Blutdruck ${n}`});return 0===i.length?r="Es wurden keine eindeutigen Zusammenh\xe4nge zwischen Kontextfaktoren und Ihrem Blutdruck gefunden. Dies kann sich \xe4ndern, wenn Sie mehr Daten erfassen.":r+=i.join(". ")+".",{hasEnoughData:!0,enrichedData:e,factorAnalysis:n,interpretation:r}},[t,s,A]),[F,B]=(0,a.useState)({daynight:!0,weekday:!1,seasonal:!1,correlation:!1}),K=e=>{B(t=>({...t,[e]:!t[e]}))};return t&&0!==t.length?(0,S.jsxs)("div",{className:"p-4 rounded-lg shadow-sm mb-6 "+(h?"bg-gray-800":"bg-white"),children:[(0,S.jsx)("h2",{className:"text-lg font-semibold mb-4 "+(h?"text-gray-100":"text-gray-800"),children:"Erweiterte Statistiken & Trends"}),(0,S.jsxs)("div",{className:"space-y-4",children:[(0,S.jsxs)("div",{className:"border rounded-lg overflow-hidden "+(h?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,S.jsxs)("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>K("daynight"),children:[(0,S.jsxs)("div",{className:"flex items-center",children:[(0,S.jsx)(n.A,{size:22,className:"text-blue-600 mr-3"}),(0,S.jsxs)("div",{children:[(0,S.jsx)("h3",{className:"font-medium "+(h?"text-gray-100":"text-gray-800"),children:"Tag/Nacht-Rhythmus"}),(0,S.jsx)("p",{className:"text-sm mt-0.5 "+(h?"text-gray-400":"text-gray-600"),children:null!==z&&void 0!==z&&z.hasEnoughData?z.timeDiff.sys>0?`Abends ${z.timeDiff.sys>0?"+":""}${z.timeDiff.sys} mmHg h\xf6her als morgens`:z.timeDiff.sys<0?`Morgens ${Math.abs(z.timeDiff.sys)} mmHg h\xf6her als abends`:"Stabil \xfcber den Tag":"Nicht gen\xfcgend Daten verf\xfcgbar"})]})]}),(0,S.jsx)("div",{children:F.daynight?(0,S.jsx)(r.A,{size:24}):(0,S.jsx)(i.A,{size:24})})]}),F.daynight&&(0,S.jsx)("div",{className:"p-4 pt-0 border-t "+(h?"border-gray-700":"border-gray-100"),children:null!==z&&void 0!==z&&z.hasEnoughData?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:"mb-4",children:[(0,S.jsx)("div",{className:"p-3 rounded-md mb-3 "+(h?"bg-blue-900/20":"bg-blue-50"),children:(0,S.jsx)("p",{className:"text-sm "+(h?"text-gray-300":"text-gray-600"),children:z.interpretation})}),(0,S.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:"text-sm font-medium mb-1 "+(h?"text-gray-200":"text-gray-700"),children:"Morgen-Abend-Vergleich:"}),(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm p-2 rounded "+(h?"bg-gray-700":"bg-gray-50"),children:[(0,S.jsx)("div",{className:"border-r pr-2 "+(h?"border-gray-600":"border-gray-200"),children:(0,S.jsxs)("p",{className:h?"text-gray-300":"text-gray-700",children:[(0,S.jsx)("span",{className:"font-medium",children:"Morgens:"})," ",z.avgMorning.sys,"/",z.avgMorning.dia," mmHg"]})}),(0,S.jsx)("div",{children:(0,S.jsxs)("p",{className:h?"text-gray-300":"text-gray-700",children:[(0,S.jsx)("span",{className:"font-medium",children:"Abends:"})," ",z.avgEvening.sys,"/",z.avgEvening.dia," mmHg"]})})]}),(0,S.jsxs)("p",{className:"text-sm mt-1 "+(h?"text-gray-300":"text-gray-700"),children:[(0,S.jsx)("span",{className:"font-medium",children:"Differenz:"}),(0,S.jsxs)("span",{className:z.timeDiff.sys>0?"text-red-600":"text-blue-600",children:[" ",z.timeDiff.sys>0?"+":"",z.timeDiff.sys,"/",z.timeDiff.dia>0?"+":"",z.timeDiff.dia," mmHg"]})]})]})})]}),(0,S.jsx)("p",{className:"text-sm font-medium mb-2 "+(h?"text-gray-200":"text-gray-700"),children:"Durchschnittswerte im Tagesverlauf:"}),(0,S.jsx)("div",{className:"h-60 mb-4",children:(0,S.jsx)(m.u,{width:"100%",height:"100%",children:(0,S.jsxs)(b,{data:z.chartData,margin:{top:5,right:20,left:0,bottom:5},children:[(0,S.jsx)(f.d,{strokeDasharray:"3 3",stroke:x.grid}),(0,S.jsx)(u.W,{dataKey:"name",tick:{fill:x.text}}),(0,S.jsx)(y.h,{domain:[60,180],tick:{fill:x.text}}),(0,S.jsx)(p.m,{contentStyle:x.tooltip.contentStyle,labelStyle:x.tooltip.labelStyle,itemStyle:x.tooltip.itemStyle,formatter:e=>[`${e} mmHg`,""],labelFormatter:e=>`${e}-Messung`}),(0,S.jsx)(j.s,{}),(0,S.jsx)(g.y,{dataKey:"systolisch",name:"Systolisch",fill:"#ff4136"}),(0,S.jsx)(g.y,{dataKey:"diastolisch",name:"Diastolisch",fill:"#0074d9"})]})})}),z.dailyPatternData.length>3&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("p",{className:"text-sm font-medium mb-2 "+(h?"text-gray-200":"text-gray-700"),children:"Morgen-Abend-Differenzen (Systolisch):"}),(0,S.jsx)("div",{className:"h-60",children:(0,S.jsx)(m.u,{width:"100%",height:"100%",children:(0,S.jsxs)(v.b,{data:z.dailyPatternData,margin:{top:5,right:20,left:0,bottom:5},children:[(0,S.jsx)(f.d,{strokeDasharray:"3 3",stroke:x.grid}),(0,S.jsx)(u.W,{dataKey:"datum",tick:{fontSize:10,fill:x.text}}),(0,S.jsx)(y.h,{domain:[-40,40],tick:{fill:x.text}}),(0,S.jsx)(p.m,{contentStyle:x.tooltip.contentStyle,labelStyle:x.tooltip.labelStyle,itemStyle:x.tooltip.itemStyle,formatter:e=>[`${e>0?"+":""}${e} mmHg`,""],labelFormatter:e=>`${e}`}),(0,S.jsx)(j.s,{}),(0,S.jsx)(D.N,{type:"monotone",dataKey:"sysdiff",name:"Abend-Morgen Differenz",stroke:"#8884d8",strokeWidth:2}),(0,S.jsx)(k.e,{y:0,stroke:"#000",strokeDasharray:"3 3"})]})})})]})]}):(0,S.jsxs)("div",{className:"p-3 rounded-md flex items-start border "+(h?"bg-amber-900/20 border-amber-800":"bg-amber-50 border-amber-200"),children:[(0,S.jsx)(l.A,{size:20,className:"text-amber-500 mr-2 flex-shrink-0 mt-0.5"}),(0,S.jsx)("p",{className:"text-sm "+(h?"text-amber-300":"text-amber-800"),children:(null===z||void 0===z?void 0:z.message)||"F\xfcr diese Analyse werden mehr Daten ben\xf6tigt."})]})})]}),(0,S.jsxs)("div",{className:"border rounded-lg overflow-hidden "+(h?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,S.jsxs)("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>K("weekday"),children:[(0,S.jsxs)("div",{className:"flex items-center",children:[(0,S.jsx)(o.A,{size:22,className:"text-green-600 mr-3"}),(0,S.jsxs)("div",{children:[(0,S.jsx)("h3",{className:"font-medium "+(h?"text-gray-100":"text-gray-800"),children:"Wochentagsanalyse"}),(0,S.jsx)("p",{className:"text-sm mt-0.5 "+(h?"text-gray-400":"text-gray-600"),children:E&&E.hasEnoughData?"Erkennt Muster an verschiedenen Wochentagen":"Nicht gen\xfcgend Daten verf\xfcgbar"})]})]}),(0,S.jsx)("div",{children:F.weekday?(0,S.jsx)(r.A,{size:24}):(0,S.jsx)(i.A,{size:24})})]}),F.weekday&&(0,S.jsx)("div",{className:"p-4 pt-0 border-t "+(h?"border-gray-700":"border-gray-100"),children:E&&E.hasEnoughData?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"p-3 rounded-md mb-3 "+(h?"bg-blue-900/20":"bg-blue-50"),children:(0,S.jsx)("p",{className:"text-sm "+(h?"text-blue-300":"text-blue-800"),children:E.interpretation})}),(0,S.jsx)("div",{className:"mt-3 grid grid-cols-7 gap-1 text-xs mb-4",children:E.weekdayData.sort((e,t)=>e.sort-t.sort).map(e=>(0,S.jsxs)("div",{className:"p-1 text-center rounded",style:{backgroundColor:e.morgenSys>135?"#ffeeee":e.morgenSys<120?"#eeffee":"#ffffee"},children:[(0,S.jsx)("div",{className:"font-medium",children:e.shortName}),(0,S.jsx)("div",{className:"mt-1",children:e.morgenSys>0?e.morgenSys:"-"})]},e.shortName))}),(0,S.jsx)("p",{className:"text-sm font-medium mb-2 "+(h?"text-gray-200":"text-gray-700"),children:"Blutdruck nach Wochentagen:"}),(0,S.jsx)("div",{className:"h-60",children:(0,S.jsx)(m.u,{width:"100%",height:"100%",children:(0,S.jsxs)(b,{data:E.weekdayData.sort((e,t)=>e.sort-t.sort),margin:{top:5,right:20,left:0,bottom:5},children:[(0,S.jsx)(f.d,{strokeDasharray:"3 3",stroke:x.grid}),(0,S.jsx)(u.W,{dataKey:"shortName",tick:{fill:x.text}}),(0,S.jsx)(y.h,{domain:[60,180],tick:{fill:x.text}}),(0,S.jsx)(p.m,{contentStyle:x.tooltip.contentStyle,labelStyle:x.tooltip.labelStyle,itemStyle:x.tooltip.itemStyle,formatter:(e,t)=>[`${e} mmHg`,"morgenSys"===t?"Morgen Systolisch":"abendSys"===t?"Abend Systolisch":t],labelFormatter:e=>{var t;return`Wochentag: ${(null===(t=E.weekdayData.find(t=>t.shortName===e))||void 0===t?void 0:t.name)||e}`}}),(0,S.jsx)(j.s,{}),(0,S.jsx)(g.y,{dataKey:"morgenSys",name:"Morgen Systolisch",fill:"#ff4136"}),(0,S.jsx)(g.y,{dataKey:"abendSys",name:"Abend Systolisch",fill:"#ff851b"})]})})})]}):(0,S.jsxs)("div",{className:"p-3 rounded-md flex items-start border "+(h?"bg-amber-900/20 border-amber-800":"bg-amber-50 border-amber-200"),children:[(0,S.jsx)(l.A,{size:20,className:"text-amber-500 mr-2 flex-shrink-0 mt-0.5"}),(0,S.jsx)("p",{className:"text-sm "+(h?"text-amber-300":"text-amber-800"),children:E?"Es liegen noch nicht gen\xfcgend Messungen f\xfcr alle Wochentage vor.":"Diese Analyse ben\xf6tigt Daten aus mindestens einer vollen Woche."})]})})]}),(0,S.jsxs)("div",{className:"border rounded-lg overflow-hidden "+(h?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,S.jsxs)("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>K("seasonal"),children:[(0,S.jsxs)("div",{className:"flex items-center",children:[(0,S.jsx)(d.A,{size:22,className:"text-orange-600 mr-3"}),(0,S.jsxs)("div",{children:[(0,S.jsx)("h3",{className:"font-medium "+(h?"text-gray-100":"text-gray-800"),children:"Jahreszeitliche Schwankungen"}),(0,S.jsx)("p",{className:"text-sm mt-0.5 "+(h?"text-gray-400":"text-gray-600"),children:null!==$&&void 0!==$&&$.hasEnoughData?`Daten aus ${$.monthsWithData} von 12 Monaten verf\xfcgbar`:"Nicht gen\xfcgend langfristige Daten"})]})]}),(0,S.jsx)("div",{children:F.seasonal?(0,S.jsx)(r.A,{size:24}):(0,S.jsx)(i.A,{size:24})})]}),F.seasonal&&(0,S.jsx)("div",{className:"p-4 pt-0 border-t "+(h?"border-gray-700":"border-gray-100"),children:null!==$&&void 0!==$&&$.hasEnoughData?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"p-3 rounded-md mb-3 "+(h?"bg-blue-900/20":"bg-blue-50"),children:(0,S.jsx)("p",{className:"text-sm "+(h?"text-blue-300":"text-blue-800"),children:$.interpretation})}),(0,S.jsx)("p",{className:"text-sm font-medium mb-2 "+(h?"text-gray-200":"text-gray-700"),children:"Monatlicher Blutdruckverlauf:"}),(0,S.jsx)("div",{className:"h-60 mb-4",children:(0,S.jsx)(m.u,{width:"100%",height:"100%",children:(0,S.jsxs)(v.b,{data:$.monthlyData,margin:{top:5,right:20,left:0,bottom:5},children:[(0,S.jsx)(f.d,{strokeDasharray:"3 3",stroke:x.grid}),(0,S.jsx)(u.W,{dataKey:"displayName",tick:{fontSize:10,fill:x.text}}),(0,S.jsx)(y.h,{domain:["dataMin - 5","dataMax + 5"],tick:{fill:x.text}}),(0,S.jsx)(p.m,{contentStyle:x.tooltip.contentStyle,labelStyle:x.tooltip.labelStyle,itemStyle:x.tooltip.itemStyle,formatter:e=>[`${e} mmHg`,""]}),(0,S.jsx)(j.s,{}),(0,S.jsx)(D.N,{type:"monotone",dataKey:"systolisch",name:"Systolisch",stroke:"#ff4136",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})}),$.seasonalData.length>0&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("p",{className:"text-sm font-medium mb-2 "+(h?"text-gray-200":"text-gray-700"),children:"Jahreszeitliche Trends:"}),(0,S.jsx)("div",{className:"h-60",children:(0,S.jsx)(m.u,{width:"100%",height:"100%",children:(0,S.jsxs)(b,{data:$.seasonalData,margin:{top:5,right:20,left:0,bottom:5},children:[(0,S.jsx)(f.d,{strokeDasharray:"3 3",stroke:x.grid}),(0,S.jsx)(u.W,{dataKey:"name",tick:{fill:x.text}}),(0,S.jsx)(y.h,{domain:["dataMin - 5","dataMax + 5"],tick:{fill:x.text}}),(0,S.jsx)(p.m,{contentStyle:x.tooltip.contentStyle,labelStyle:x.tooltip.labelStyle,itemStyle:x.tooltip.itemStyle,formatter:e=>[`${e} mmHg`,""]}),(0,S.jsx)(j.s,{}),(0,S.jsx)(g.y,{dataKey:"systolisch",name:"Systolisch",fill:"#ff4136",barSize:60})]})})})]})]}):(0,S.jsxs)("div",{className:"p-3 rounded-md flex items-start border "+(h?"bg-amber-900/20 border-amber-800":"bg-amber-50 border-amber-200"),children:[(0,S.jsx)(l.A,{size:20,className:"text-amber-500 mr-2 flex-shrink-0 mt-0.5"}),(0,S.jsx)("p",{className:"text-sm "+(h?"text-amber-300":"text-amber-800"),children:(null===$||void 0===$?void 0:$.message)||"F\xfcr diese Analyse werden mehr Daten ben\xf6tigt."})]})})]}),(0,S.jsxs)("div",{className:"border rounded-lg overflow-hidden "+(h?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,S.jsxs)("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>K("correlation"),children:[(0,S.jsxs)("div",{className:"flex items-center",children:[(0,S.jsx)(c.A,{size:22,className:"text-purple-600 mr-3"}),(0,S.jsxs)("div",{children:[(0,S.jsx)("h3",{className:"font-medium "+(h?"text-gray-100":"text-gray-800"),children:"Kontextfaktor-Korrelation"}),(0,S.jsx)("p",{className:"text-sm mt-0.5 "+(h?"text-gray-400":"text-gray-600"),children:null!==W&&void 0!==W&&W.hasEnoughData?"Analysiert Einflussfaktoren auf Ihren Blutdruck":"Nicht gen\xfcgend Kontextdaten"})]})]}),(0,S.jsx)("div",{children:F.correlation?(0,S.jsx)(r.A,{size:24}):(0,S.jsx)(i.A,{size:24})})]}),F.correlation&&(0,S.jsx)("div",{className:"p-4 pt-0 border-t "+(h?"border-gray-700":"border-gray-100"),children:null!==W&&void 0!==W&&W.hasEnoughData?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"p-3 rounded-md mb-3 "+(h?"bg-blue-900/20":"bg-blue-50"),children:(0,S.jsx)("p",{className:"text-sm "+(h?"text-blue-300":"text-blue-800"),children:W.interpretation})}),(0,S.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:Object.entries(W.factorAnalysis).filter(e=>{let[t,s]=e;return s.correlation&&"gering"!==s.impact}).map(e=>{let[t,s]=e;return(0,S.jsxs)("div",{className:"p-3 rounded-md "+(h?"bg-gray-700":"bg-gray-50"),children:[(0,S.jsx)("h4",{className:"font-medium text-sm mb-2 "+(h?"text-gray-200":"text-gray-700"),children:s.name}),s.hasEnoughDataPoints?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"h-36",children:(0,S.jsx)(m.u,{width:"100%",height:"100%",children:(0,S.jsxs)(v.b,{data:s.chartData,margin:{top:5,right:5,left:5,bottom:5},children:[(0,S.jsx)(f.d,{strokeDasharray:"3 3",stroke:x.grid}),(0,S.jsx)(u.W,{dataKey:"name",tick:{fill:x.text}}),(0,S.jsx)(y.h,{domain:["dataMin - 5","dataMax + 5"],tick:{fill:x.text}}),(0,S.jsx)(p.m,{contentStyle:x.tooltip.contentStyle,labelStyle:x.tooltip.labelStyle,itemStyle:x.tooltip.itemStyle,formatter:(e,t)=>["systolisch"===t?`${e} mmHg`:e,"systolisch"===t?"Systolischer Blutdruck":t]}),(0,S.jsx)(D.N,{type:"monotone",dataKey:"systolisch",name:"Systolisch",stroke:"#ff4136",strokeWidth:2,dot:{r:4}})]})})}),s.correlation&&(0,S.jsxs)("div",{className:"mt-2 text-xs",children:[(0,S.jsx)("span",{className:"font-medium "+(h?"text-gray-300":"text-gray-700"),children:"Einfluss: "}),(0,S.jsxs)("span",{className:`${"stark"===s.impact?"font-bold":""} ${"positiv"===s.correlation?"text-red-600":"negativ"===s.correlation?"text-blue-600":"text-gray-600"}`,children:["stark"===s.impact?"Starker":"mittel"===s.impact?"Mittlerer":"Geringer","positiv"===s.correlation?" erh\xf6hender":"negativ"===s.correlation?" senkender":""," Effekt"]})]})]}):(0,S.jsx)("p",{className:"text-xs "+(h?"text-gray-400":"text-gray-600"),children:"Nicht gen\xfcgend Daten f\xfcr eine zuverl\xe4ssige Analyse."})]},t)})})]}):(0,S.jsxs)("div",{className:"p-3 rounded-md flex items-start border "+(h?"bg-amber-900/20 border-amber-800":"bg-amber-50 border-amber-200"),children:[(0,S.jsx)(l.A,{size:20,className:"text-amber-500 mr-2 flex-shrink-0 mt-0.5"}),(0,S.jsx)("p",{className:"text-sm "+(h?"text-amber-300":"text-amber-800"),children:(null===W||void 0===W?void 0:W.message)||"F\xfcr diese Analyse werden mehr Daten ben\xf6tigt."})]})})]})]})]}):null}}}]);
//# sourceMappingURL=104.51b6adf7.chunk.js.map