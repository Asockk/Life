"use strict";(self.webpackChunkblutdruck_tracker=self.webpackChunkblutdruck_tracker||[]).push([[710],{2825:(e,t,r)=>{r.d(t,{A:()=>s});const s=(0,r(3797).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},3458:(e,t,r)=>{r.d(t,{A:()=>s});const s=(0,r(3797).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3666:(e,t,r)=>{r.d(t,{A:()=>s});const s=(0,r(3797).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},3710:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var s=r(5043),a=r(3797);const n=(0,a.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),l=(0,a.A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var i=r(5510),d=r(2938),c=r(3458),o=r(3666),x=r(2825),m=r(6787);const u=(0,a.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var g=r(8432),b=r(1040),h=r(579);const y=e=>{let{data:t,onEdit:r,onDelete:a,darkMode:y=!0}=e;const[p,f]=(0,s.useState)(1),[j,v]=(0,s.useState)(1),[N,w]=(0,s.useState)([]),[A,k]=(0,s.useState)(!0),[D,S]=(0,s.useState)(null),[z,E]=(0,s.useState)(null),[C,M]=(0,s.useState)({id:null,startX:0,currentX:0,direction:null,percentage:0,status:"idle"}),F=(0,s.useRef)(null),[X,T]=(0,s.useState)(!0),[L,$]=(0,s.useState)({isMobile:!1,isTouch:!1});(0,s.useEffect)(()=>{const e=()=>{const e=window.innerWidth<768,t="ontouchstart"in window||navigator.maxTouchPoints>0;$({isMobile:e,isTouch:t})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.useEffect)(()=>{const e=setTimeout(()=>{T(!1)},6e3);return()=>clearTimeout(e)},[]);const H=e=>{if(!e)return(new Date).getFullYear();const t=e.match(/\b(20\d{2})\b/);return t?parseInt(t[1]):(new Date).getFullYear()},B=(U=t,P=A,[...U].sort((e,t)=>{const r=H(e.datum),s=H(t.datum);if(r!==s)return P?s-r:r-s;const a={Januar:0,Februar:1,"M\xe4rz":2,April:3,Mai:4,Juni:5,Juli:6,August:7,September:8,Oktober:9,November:10,Dezember:11},n=e=>{if(!e)return new Date(0);let t,s,n=r;if(e.includes(".")){const r=e.split(". ");t=parseInt(r[0]),r.length>1&&(s=r[1].split(" ")[0].trim())}else{if(!e.includes(" "))return new Date(0);{const r=e.split(" ");s=r[0],t=parseInt(r[1])}}return void 0===a[s]?new Date(0):new Date(n,a[s],t)},l=n(e.datum),i=n(t.datum);return P?i-l:l-i}));var U,P;(0,s.useEffect)(()=>{const e=Math.ceil(B.length/10);v(e||1),p>e&&f(1);const t=10*(p-1),r=Math.min(t+10,B.length);w(B.slice(t,r))},[t,p,A]);const G=e=>{E(e)},W=()=>{E(null),S(null)},q=e=>{const t={Optimal:{bg:"#0a3317",color:"#4ade80"},Normal:{bg:"#1a3305",color:"#a3e635"},"Hoch normal":{bg:"#422006",color:"#fbbf24"},"Hypertonie Grad 1":{bg:"#451a03",color:"#fb923c"},"Hypertonie Grad 2":{bg:"#450a0a",color:"#f87171"},"Hypertonie Grad 3":{bg:"#3b0764",color:"#d8b4fe"},Unbekannt:{bg:"#1f2937",color:"#9ca3af"}},r={Optimal:{bg:"#DBF9DB",color:"#1A7A1A"},Normal:{bg:"#E5FFDD",color:"#2D6A00"},"Hoch normal":{bg:"#FFF4D1",color:"#8C6900"},"Hypertonie Grad 1":{bg:"#FFEBD4",color:"#B25000"},"Hypertonie Grad 2":{bg:"#FFDBDB",color:"#D42E2E"},"Hypertonie Grad 3":{bg:"#F8D7E8",color:"#A0105C"},Unbekannt:{bg:"#E5E5E5",color:"#707070"}},s=y?t[e.category]||t.Unbekannt:r[e.category]||r.Unbekannt;return{backgroundColor:s.bg,color:s.color}},I=e=>{const t=e.morgenSys>0&&e.morgenDia>0?(0,b.Q0)(e.morgenSys,e.morgenDia):{category:"Unbekannt",color:"#AAAAAA"},s=e.abendSys>0&&e.abendDia>0?(0,b.Q0)(e.abendSys,e.abendDia):{category:"Unbekannt",color:"#AAAAAA"};if(z===e.id)return(0,h.jsxs)("div",{className:(y?"bg-red-900/30 border-red-800":"bg-red-50 border-red-200")+" p-4 rounded-lg border shadow-sm relative mb-3",children:[(0,h.jsx)("p",{className:(y?"text-red-300 font-bold":"text-red-800 font-medium")+" mb-3",children:"Eintrag wirklich l\xf6schen?"}),(0,h.jsxs)("div",{className:"flex justify-between",children:[(0,h.jsx)("button",{onClick:W,className:(y?"bg-gray-700 text-gray-200 hover:bg-gray-600":"bg-gray-100 text-gray-800 hover:bg-gray-200")+" py-2 px-4 rounded-md flex-1 mr-2",children:"Abbrechen"}),(0,h.jsx)("button",{onClick:()=>{return t=e.id,a(t),E(null),void S(null);var t},className:(y?"bg-red-700":"bg-red-600")+" text-white py-2 px-4 rounded-md flex-1",children:"L\xf6schen"})]})]},e.id);const o=C.id===e.id&&"swiping"===C.status,x=D===e.id,m=o?C.direction:null,u=o?C.percentage:0;let g="translateX(0)";if(o){const e=u/100*70;g="left"===m?`translateX(-${e}px)`:`translateX(${e}px)`}else x&&(g="translateX(-70px)");const p={transform:g,transition:o?"none":"transform 0.3s ease-out",borderLeftColor:"right"===m?"#3b82f6":void 0,borderLeftWidth:"right"===m?"4px":"1px",borderRightColor:"left"===m?"#ef4444":void 0,borderRightWidth:"left"===m?"4px":"1px"};return(0,h.jsxs)("div",{className:"mb-3 relative touch-manipulation",children:[(0,h.jsxs)("div",{className:"absolute inset-0 flex pointer-events-none rounded-lg overflow-hidden opacity-"+(o?"100":"70"),children:[(0,h.jsxs)("div",{className:`w-1/2 ${y?"bg-blue-900/40":"bg-blue-50"} rounded-l-lg flex items-center justify-start pl-4`,children:[(0,h.jsx)(n,{size:20,className:y?"text-blue-400":"text-blue-500"}),(0,h.jsx)("span",{className:`text-xs ${y?"text-blue-400":"text-blue-600"} ml-1`,children:"Bearbeiten"})]}),(0,h.jsxs)("div",{className:`w-1/2 ${y?"bg-red-900/40":"bg-red-50"} rounded-r-lg flex items-center justify-end pr-4`,children:[(0,h.jsx)("span",{className:`text-xs ${y?"text-red-400":"text-red-600"} mr-1`,children:"L\xf6schen"}),(0,h.jsx)(l,{size:20,className:y?"text-red-400":"text-red-500"})]})]}),x&&(0,h.jsx)("button",{onClick:()=>G(e.id),className:`absolute right-2 top-1/2 transform -translate-y-1/2 ${y?"bg-red-700 hover:bg-red-600":"bg-red-600 hover:bg-red-500"} text-white p-2 rounded-md z-10`,"aria-label":"L\xf6schen",children:(0,h.jsx)(i.A,{size:20})}),(0,h.jsxs)("div",{onTouchStart:t=>((e,t)=>{D&&D!==t&&S(null);const s=e.touches[0];M({id:t,startX:s.clientX,currentX:s.clientX,direction:null,percentage:0,status:"idle"}),F.current=setTimeout(()=>{if(C.id===t&&"idle"===C.status){const e=N.find(e=>e.id===t);e&&r(e)}},800)})(t,e.id),onTouchMove:t=>((e,t)=>{if(C.id!==t)return;F.current&&(clearTimeout(F.current),F.current=null);const r=e.touches[0],s=r.clientX-C.startX,a=Math.abs(s),n=Math.min(100,a/100*100),l=s>0?"right":"left";M({...C,currentX:r.clientX,direction:l,percentage:n,status:a>10?"swiping":"idle"}),a>30&&e.preventDefault()})(t,e.id),onTouchEnd:()=>(e=>{if(F.current&&(clearTimeout(F.current),F.current=null),C.id!==e)return;if(C.percentage>=30)if("left"===C.direction)S(e);else if("right"===C.direction){const t=N.find(t=>t.id===e);t&&r(t)}M({...C,status:"idle",percentage:0})})(e.id),className:(y?"bg-gray-800 border-gray-700":"bg-white border-gray-200")+" p-3 rounded-lg border shadow-sm relative z-0",style:p,children:[(0,h.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,h.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,h.jsx)(d.A,{size:16,className:y?"text-gray-400":"text-gray-500"}),(0,h.jsxs)("span",{className:"text-sm font-medium "+(y?"text-gray-200":"text-gray-900"),children:[e.tag,", ",e.datum,!e.datum.match(/\b20\d{2}\b/)&&H(e.datum)!==(new Date).getFullYear()&&` ${H(e.datum)}`]})]})}),(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,h.jsxs)("div",{className:(y?"bg-gray-700":"bg-gray-50")+" p-2 rounded",children:[(0,h.jsxs)("div",{className:"flex items-center mb-1",children:[(0,h.jsx)(c.A,{size:14,className:"text-indigo-500 mr-1"}),(0,h.jsx)("span",{className:"text-xs font-medium "+(y?"text-gray-300":"text-gray-700"),children:"Morgen"})]}),e.morgenSys>0&&e.morgenDia>0?(0,h.jsx)("div",{className:"px-2 py-1 text-center rounded text-xs font-medium w-full",style:q(t),children:(0,b.tt)(e.morgenSys,e.morgenDia,e.morgenPuls||"-")}):(0,h.jsx)("div",{className:`text-center ${y?"text-gray-500":"text-gray-400"} text-xs`,children:"-"})]}),(0,h.jsxs)("div",{className:(y?"bg-gray-700":"bg-gray-50")+" p-2 rounded",children:[(0,h.jsxs)("div",{className:"flex items-center mb-1",children:[(0,h.jsx)(c.A,{size:14,className:"text-purple-500 mr-1"}),(0,h.jsx)("span",{className:"text-xs font-medium "+(y?"text-gray-300":"text-gray-700"),children:"Abend"})]}),e.abendSys>0&&e.abendDia>0?(0,h.jsx)("div",{className:"px-2 py-1 text-center rounded text-xs font-medium w-full",style:q(s),children:(0,b.tt)(e.abendSys,e.abendDia,e.abendPuls||"-")}):(0,h.jsx)("div",{className:`text-center ${y?"text-gray-500":"text-gray-400"} text-xs`,children:"-"})]})]})]})]},e.id)};return(0,h.jsxs)("div",{className:"p-3 sm:p-4 rounded-lg shadow-sm mb-6 transition-colors duration-200 "+(y?"bg-gray-800 text-gray-100 border border-gray-700":"bg-white text-gray-800 border border-gray-300"),children:[(0,h.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4",children:[(0,h.jsx)("h2",{className:"text-lg font-semibold mb-2 sm:mb-0 "+(y?"text-gray-100":"text-gray-800"),children:"Ihre Blutdruck-Eintr\xe4ge"}),(0,h.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4",children:[(0,h.jsxs)("button",{onClick:()=>{k(!A)},className:"text-sm px-3 py-2 rounded-md transition duration-200 flex items-center w-full justify-center "+(y?"bg-gray-700 hover:bg-gray-600 text-gray-200":"bg-gray-100 hover:bg-gray-200 text-gray-800"),children:[A?(0,h.jsx)(o.A,{size:18,className:"mr-1"}):(0,h.jsx)(x.A,{size:18,className:"mr-1"}),(0,h.jsx)("span",{children:A?"Neueste zuerst":"\xc4lteste zuerst"})]}),(0,h.jsxs)("div",{className:"text-sm w-full text-center sm:text-left sm:w-auto "+(y?"text-gray-400":"text-gray-500"),children:[t.length," Eintr\xe4ge insgesamt"]})]})]}),X&&L.isTouch&&(0,h.jsxs)("div",{className:"mb-4 p-3 rounded-lg text-center text-sm "+(y?"bg-blue-900/20 border border-blue-800 text-blue-300":"bg-blue-50 border border-blue-100 text-blue-700"),children:[(0,h.jsx)("p",{className:"font-medium mb-1",children:"So bearbeiten oder l\xf6schen Sie Eintr\xe4ge:"}),(0,h.jsxs)("p",{children:["\u2022 Wischen Sie nach ",(0,h.jsx)("span",{className:"font-bold",children:"rechts"})," zum Bearbeiten"]}),(0,h.jsxs)("p",{children:["\u2022 Wischen Sie nach ",(0,h.jsx)("span",{className:"font-bold",children:"links"})," zum L\xf6schen"]}),(0,h.jsx)("p",{className:"text-xs mt-1 opacity-80",children:"Sie k\xf6nnen auch einen Eintrag l\xe4nger dr\xfccken, um ihn zu bearbeiten"})]}),(0,h.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,h.jsxs)("table",{className:"min-w-full divide-y "+(y?"divide-gray-700":"divide-gray-200"),children:[(0,h.jsx)("thead",{className:y?"bg-gray-700":"bg-gray-50",children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider "+(y?"text-gray-300":"text-gray-500"),children:"Datum"}),(0,h.jsx)("th",{scope:"col",className:"px-4 py-3 text-center text-xs font-medium uppercase tracking-wider "+(y?"text-gray-300":"text-gray-500"),children:"Morgen (Sys/Dia/Puls)"}),(0,h.jsx)("th",{scope:"col",className:"px-4 py-3 text-center text-xs font-medium uppercase tracking-wider "+(y?"text-gray-300":"text-gray-500"),children:"Abend (Sys/Dia/Puls)"}),(0,h.jsx)("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium uppercase tracking-wider "+(y?"text-gray-300":"text-gray-500"),children:"Aktionen"})]})}),(0,h.jsx)("tbody",{className:""+(y?"bg-gray-800 divide-y divide-gray-700":"bg-white divide-y divide-gray-200"),children:N.map(e=>{const t=e.morgenSys>0&&e.morgenDia>0?(0,b.Q0)(e.morgenSys,e.morgenDia):{category:"Unbekannt",color:"#AAAAAA"},s=e.abendSys>0&&e.abendDia>0?(0,b.Q0)(e.abendSys,e.abendDia):{category:"Unbekannt",color:"#AAAAAA"};return(0,h.jsxs)("tr",{className:y?"hover:bg-gray-700":"hover:bg-gray-50",children:[(0,h.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,h.jsxs)("div",{className:"text-sm font-medium "+(y?"text-gray-200":"text-gray-900"),children:[e.tag,", ",e.datum,!e.datum.match(/\b20\d{2}\b/)&&H(e.datum)!==(new Date).getFullYear()&&` ${H(e.datum)}`]})}),(0,h.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:e.morgenSys>0&&e.morgenDia>0?(0,h.jsx)("span",{className:"px-2 py-1 inline-flex items-center justify-center rounded-full text-xs font-medium",style:q(t),children:(0,b.tt)(e.morgenSys,e.morgenDia,e.morgenPuls||"-")}):(0,h.jsx)("span",{className:y?"text-gray-500":"text-gray-400",children:"-"})}),(0,h.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:e.abendSys>0&&e.abendDia>0?(0,h.jsx)("span",{className:"px-2 py-1 inline-flex items-center justify-center rounded-full text-xs font-medium",style:q(s),children:(0,b.tt)(e.abendSys,e.abendDia,e.abendPuls||"-")}):(0,h.jsx)("span",{className:y?"text-gray-500":"text-gray-400",children:"-"})}),(0,h.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,h.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,h.jsxs)("button",{onClick:()=>(e=>{r(e)})(e),className:(y?"bg-blue-700 hover:bg-blue-600":"bg-blue-500 hover:bg-blue-600")+" text-white py-1 px-3 rounded-md text-xs flex items-center",children:[(0,h.jsx)(m.A,{size:14,className:"mr-1"})," Bearbeiten"]}),(0,h.jsxs)("button",{onClick:()=>G(e.id),className:(y?"bg-red-700 hover:bg-red-600":"bg-red-500 hover:bg-red-600")+" text-white py-1 px-3 rounded-md text-xs flex items-center",children:[(0,h.jsx)(i.A,{size:14,className:"mr-1"})," L\xf6schen"]})]})})]},e.id)})})]})}),(0,h.jsx)("div",{className:"md:hidden",children:(0,h.jsx)("div",{className:"space-y-1",children:0===N.length?(0,h.jsx)("p",{className:`text-center ${y?"text-gray-400":"text-gray-500"} py-6`,children:"Keine Eintr\xe4ge gefunden"}):N.map(e=>I(e))})}),j>1&&(0,h.jsxs)("div",{className:"flex justify-between items-center mt-4 px-2",children:[(0,h.jsxs)("div",{className:"text-sm "+(y?"text-gray-400":"text-gray-600"),children:["Seite ",p," von ",j]}),(0,h.jsxs)("div",{className:"flex",children:[(0,h.jsx)("button",{onClick:()=>{p>1&&f(e=>e-1)},disabled:1===p,className:"p-2 rounded "+(1===p?y?"text-gray-600 cursor-not-allowed":"text-gray-400 cursor-not-allowed":y?"text-blue-400 hover:bg-gray-700":"text-blue-600 hover:bg-blue-50"),children:(0,h.jsx)(u,{size:24})}),(0,h.jsx)("button",{onClick:()=>{p<j&&f(e=>e+1)},disabled:p===j,className:"p-2 rounded "+(p===j?y?"text-gray-600 cursor-not-allowed":"text-gray-400 cursor-not-allowed":y?"text-blue-400 hover:bg-gray-700":"text-blue-600 hover:bg-blue-50"),children:(0,h.jsx)(g.A,{size:24})})]})]})]})}},5510:(e,t,r)=>{r.d(t,{A:()=>s});const s=(0,r(3797).A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},6787:(e,t,r)=>{r.d(t,{A:()=>s});const s=(0,r(3797).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])}}]);
//# sourceMappingURL=710.43b23527.chunk.js.map