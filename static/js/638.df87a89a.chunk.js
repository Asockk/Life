"use strict";(self.webpackChunkblutdruck_tracker=self.webpackChunkblutdruck_tracker||[]).push([[638],{5638:(e,s,r)=>{r.r(s),r.d(s,{default:()=>m});var t=r(5043),a=r(4192),n=r(2938),d=r(3458),l=r(6787),i=r(5510),c=r(3666),o=r(2825),x=r(1040),g=r(579);const m=e=>{let{data:s,onEdit:r,onDelete:m,darkMode:u=!0}=e;const[h,b]=(0,t.useState)(1),[y,j]=(0,t.useState)(1),[v,k]=(0,t.useState)([]),[N,f]=(0,t.useState)(!0),[p,S]=(0,t.useState)(null),[w,C]=(0,t.useState)(600),z=(0,t.useRef)(null);(0,t.useEffect)((()=>{const e=()=>{if(z.current){const e=window.innerHeight-z.current.getBoundingClientRect().top-100;C(Math.max(400,e))}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,t.useEffect)((()=>{const e=[...s.map(((e,s)=>({...e,uniqueRowId:`${e.id}_${s}_${e.morgenSys||0}_${e.abendSys||0}`,uniqueSortId:`${e._standardDate||e.datum}_${e.id}_${s}`,morgenCategory:e.morgenSys&&e.morgenDia?(0,x.Q0)(e.morgenSys,e.morgenDia):null,abendCategory:e.abendSys&&e.abendDia?(0,x.Q0)(e.abendSys,e.abendDia):null})))].sort(((e,s)=>{const r=e._standardDate||e.datum,t=s._standardDate||s.datum;return r===t?e.uniqueSortId.localeCompare(s.uniqueSortId):N?t.localeCompare(r):r.localeCompare(t)}));k(e),j(Math.ceil(e.length/10)),h>Math.ceil(e.length/10)&&b(1)}),[s,N,10,h]);const D=()=>{S(null)};return s&&0!==s.length?(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[(0,g.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:["Alle Eintr\xe4ge (",s.length,")"]}),(0,g.jsxs)("button",{onClick:()=>f(!N),className:"flex items-center text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:[(0,g.jsx)("span",{className:"mr-1",children:"Sortierung:"}),(0,g.jsx)("span",{className:"font-medium",children:N?"Neueste zuerst":"\xc4lteste zuerst"}),N?(0,g.jsx)(c.A,{size:16,className:"ml-1"}):(0,g.jsx)(o.A,{size:16,className:"ml-1"})]})]})}),(0,g.jsx)("div",{ref:z,children:(0,g.jsx)(a.Y1,{height:w,itemCount:v.length,itemSize:120,width:"100%",overscanCount:3,children:e=>{let{index:s,style:t}=e;const a=v[s];if(!a)return null;const c=a.morgenCategory,o=a.abendCategory;return(0,g.jsx)("div",{style:t,className:`\n          border-b border-gray-200 dark:border-gray-700 \n          ${s%2===0?"bg-gray-50 dark:bg-gray-800":"bg-white dark:bg-gray-900"}\n          hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\n        `,children:(0,g.jsxs)("div",{className:"p-3 flex items-center justify-between",children:[(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)(n.A,{size:16,className:"mr-2 text-gray-500 dark:text-gray-400"}),(0,g.jsx)("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:(x=a.datum,x||"Kein Datum")})]}),(0,g.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.tag})]}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"flex items-center mb-1",children:[(0,g.jsx)(d.A,{size:14,className:"mr-1 text-gray-400 dark:text-gray-500"}),(0,g.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Morgen"})]}),a.morgenSys&&a.morgenDia?(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"font-semibold",style:{color:null===c||void 0===c?void 0:c.color},children:[a.morgenSys,"/",a.morgenDia]}),a.morgenPuls&&(0,g.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Puls: ",a.morgenPuls]})]}):(0,g.jsx)("div",{className:"text-gray-400 dark:text-gray-600 text-sm",children:"-"})]}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"flex items-center mb-1",children:[(0,g.jsx)(d.A,{size:14,className:"mr-1 text-gray-400 dark:text-gray-500"}),(0,g.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Abend"})]}),a.abendSys&&a.abendDia?(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"font-semibold",style:{color:null===o||void 0===o?void 0:o.color},children:[a.abendSys,"/",a.abendDia]}),a.abendPuls&&(0,g.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Puls: ",a.abendPuls]})]}):(0,g.jsx)("div",{className:"text-gray-400 dark:text-gray-600 text-sm",children:"-"})]})]}),a.notizen&&(0,g.jsx)("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400 italic",children:a.notizen})]}),(0,g.jsxs)("div",{className:"flex space-x-2 ml-4",children:[(0,g.jsx)("button",{onClick:()=>r(a),className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 rounded-lg transition-colors","aria-label":"Bearbeiten",children:(0,g.jsx)(l.A,{size:18})}),p===a.id?(0,g.jsxs)("div",{className:"flex space-x-1",children:[(0,g.jsx)("button",{onClick:()=>{return e=a.id,m(e),void S(null);var e},className:"p-2 text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors","aria-label":"L\xf6schen best\xe4tigen",children:(0,g.jsx)(i.A,{size:18})}),(0,g.jsx)("button",{onClick:D,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors","aria-label":"Abbrechen",children:"\u2715"})]}):(0,g.jsx)("button",{onClick:()=>(e=>{S(e.id)})(a),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900 rounded-lg transition-colors","aria-label":"L\xf6schen",children:(0,g.jsx)(i.A,{size:18})})]})]})});var x}})})]}):(0,g.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 text-center",children:(0,g.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Noch keine Eintr\xe4ge vorhanden."})})}}}]);
//# sourceMappingURL=638.df87a89a.chunk.js.map