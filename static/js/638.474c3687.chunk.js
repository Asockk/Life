"use strict";(self.webpackChunkblutdruck_tracker=self.webpackChunkblutdruck_tracker||[]).push([[638],{5638:(e,r,s)=>{s.r(r),s.d(r,{default:()=>m});var a=s(5043),t=s(4192),n=s(2938),d=s(3666),l=s(2825),i=s(3458),c=s(6787),o=s(5510),x=s(1040),g=s(579);const m=e=>{let{data:r,onEdit:s,onDelete:m,darkMode:u=!0}=e;const[h,b]=(0,a.useState)(1),[y,j]=(0,a.useState)([]),[v,k]=(0,a.useState)(!0),[N,f]=(0,a.useState)(null),[p,S]=(0,a.useState)(600),w=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e=()=>{if(w.current){const e=window.innerHeight-w.current.getBoundingClientRect().top-100;S(Math.max(400,e))}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{const e=[...r.map((e,r)=>({...e,uniqueRowId:`${e.id}_${r}_${e.morgenSys||0}_${e.abendSys||0}`,uniqueSortId:`${e._standardDate||e.datum}_${e.id}_${r}`,morgenCategory:e.morgenSys&&e.morgenDia?(0,x.Q0)(e.morgenSys,e.morgenDia):null,abendCategory:e.abendSys&&e.abendDia?(0,x.Q0)(e.abendSys,e.abendDia):null}))].sort((e,r)=>{const s=e._standardDate||e.datum,a=r._standardDate||r.datum;return s===a?e.uniqueSortId.localeCompare(r.uniqueSortId):v?a.localeCompare(s):s.localeCompare(a)});j(e),h>Math.ceil(e.length/10)&&b(1)},[r,v,10,h]);const C=()=>{f(null)};return r&&0!==r.length?(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[(0,g.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:["Alle Eintr\xe4ge (",r.length,")"]}),(0,g.jsxs)("button",{onClick:()=>k(!v),className:"flex items-center text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:[(0,g.jsx)("span",{className:"mr-1",children:"Sortierung:"}),(0,g.jsx)("span",{className:"font-medium",children:v?"Neueste zuerst":"\xc4lteste zuerst"}),v?(0,g.jsx)(d.A,{size:16,className:"ml-1"}):(0,g.jsx)(l.A,{size:16,className:"ml-1"})]})]})}),(0,g.jsx)("div",{ref:w,children:(0,g.jsx)(t.Y1,{height:p,itemCount:y.length,itemSize:120,width:"100%",overscanCount:3,children:e=>{let{index:r,style:a}=e;const t=y[r];if(!t)return null;const d=t.morgenCategory,l=t.abendCategory;return(0,g.jsx)("div",{style:a,className:`\n          border-b border-gray-200 dark:border-gray-700 \n          ${r%2===0?"bg-gray-50 dark:bg-gray-800":"bg-white dark:bg-gray-900"}\n          hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\n        `,children:(0,g.jsxs)("div",{className:"p-3 flex items-center justify-between",children:[(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)(n.A,{size:16,className:"mr-2 text-gray-500 dark:text-gray-400"}),(0,g.jsx)("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:(x=t.datum,x||"Kein Datum")})]}),(0,g.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.tag})]}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"flex items-center mb-1",children:[(0,g.jsx)(i.A,{size:14,className:"mr-1 text-gray-400 dark:text-gray-500"}),(0,g.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Morgen"})]}),t.morgenSys&&t.morgenDia?(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"font-semibold",style:{color:null===d||void 0===d?void 0:d.color},children:[t.morgenSys,"/",t.morgenDia]}),t.morgenPuls&&(0,g.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Puls: ",t.morgenPuls]})]}):(0,g.jsx)("div",{className:"text-gray-400 dark:text-gray-600 text-sm",children:"-"})]}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"flex items-center mb-1",children:[(0,g.jsx)(i.A,{size:14,className:"mr-1 text-gray-400 dark:text-gray-500"}),(0,g.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Abend"})]}),t.abendSys&&t.abendDia?(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"font-semibold",style:{color:null===l||void 0===l?void 0:l.color},children:[t.abendSys,"/",t.abendDia]}),t.abendPuls&&(0,g.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Puls: ",t.abendPuls]})]}):(0,g.jsx)("div",{className:"text-gray-400 dark:text-gray-600 text-sm",children:"-"})]})]}),t.notizen&&(0,g.jsx)("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400 italic",children:t.notizen})]}),(0,g.jsxs)("div",{className:"flex space-x-2 ml-4",children:[(0,g.jsx)("button",{onClick:()=>s(t),className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 rounded-lg transition-colors","aria-label":"Bearbeiten",children:(0,g.jsx)(c.A,{size:18})}),N===t.id?(0,g.jsxs)("div",{className:"flex space-x-1",children:[(0,g.jsx)("button",{onClick:()=>{return e=t.id,m(e),void f(null);var e},className:"p-2 text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors","aria-label":"L\xf6schen best\xe4tigen",children:(0,g.jsx)(o.A,{size:18})}),(0,g.jsx)("button",{onClick:C,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors","aria-label":"Abbrechen",children:"\u2715"})]}):(0,g.jsx)("button",{onClick:()=>(e=>{f(e.id)})(t),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900 rounded-lg transition-colors","aria-label":"L\xf6schen",children:(0,g.jsx)(o.A,{size:18})})]})]})});var x}})})]}):(0,g.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 text-center",children:(0,g.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Noch keine Eintr\xe4ge vorhanden."})})}}}]);
//# sourceMappingURL=638.474c3687.chunk.js.map