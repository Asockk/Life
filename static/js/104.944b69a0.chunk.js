"use strict";(self.webpackChunkblutdruck_tracker=self.webpackChunkblutdruck_tracker||[]).push([[104],{2825:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(3797).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},3458:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(3797).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3666:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(3797).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},7104:(e,s,t)=>{t.r(s),t.d(s,{default:()=>S});var a=t(5043),n=t(3458),r=t(2825),i=t(3666),l=t(2543),d=t(2938),o=t(5275),m=t(5099),c=t(108),h=t(3014),u=t(8643),g=t(2185),b=t(6026),x=t(3831),y=(0,h.gu)({chartName:"BarChart",GraphicalChild:u.y,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:g.W},{axisType:"yAxis",AxisComp:b.h}],formatAxisMap:x.pr}),f=t(7734),p=t(6150),j=t(1327),v=t(5748),D=t(168),k=t(3243),N=t(579);const S=e=>{let{data:s,contextFactors:t,darkMode:h}=e;const x={text:h?"#d1d5db":"#374151",grid:h?"#374151":"#e5e7eb",tooltip:{contentStyle:{backgroundColor:h?"#1f2937":"#ffffff",border:"1px solid "+(h?"#374151":"#e5e7eb"),borderRadius:"0.375rem"},labelStyle:{color:h?"#d1d5db":"#374151"},itemStyle:{color:h?"#d1d5db":"#374151"}}},S=e=>{if(!e)return(new Date).getFullYear();const s=e.match(/\b(20\d{2})\b/);return s?parseInt(s[1]):(new Date).getFullYear()},M=e=>{if(!e)return null;const s=S(e),t={Januar:0,Februar:1,"M\xe4rz":2,April:3,Mai:4,Juni:5,Juli:6,August:7,September:8,Oktober:9,November:10,Dezember:11};if(e.includes(" ")&&!e.includes(".")){const a=e.split(" ");if(a.length>=2&&void 0!==t[a[0]]){const e=a[0],n=parseInt(a[1]);if(!isNaN(n))return new Date(s,t[e],n)}}if(e.includes(".")&&e.includes(" ")){const a=e.split(". ");if(a.length>=2){const e=parseInt(a[0]),n=a[1].split(" ")[0];if(!isNaN(e)&&void 0!==t[n])return new Date(s,t[n],e)}}return null},A=e=>{if(!e)return null;const s=S(e);if(e.includes(" ")&&!e.includes(".")){const t=e.split(" "),a=t[0];let n=t[1];n.includes(",")&&(n=n.split(",")[0]);return`${s}-${{Januar:"01",Februar:"02","M\xe4rz":"03",April:"04",Mai:"05",Juni:"06",Juli:"07",August:"08",September:"09",Oktober:"10",November:"11",Dezember:"12"}[a]||"01"}-${n.padStart(2,"0")}`}if(e.includes(".")&&e.includes(" ")){let t,a;if(e.startsWith(e.match(/\d+/)[0])){const s=e.split(". ");t=s[0];a=s[1].split(" ")[0]}else{const s=e.split(" ");a=s[0],t=s[1].replace(".","").trim()}return`${s}-${{Januar:"01",Februar:"02","M\xe4rz":"03",April:"04",Mai:"05",Juni:"06",Juli:"07",August:"08",September:"09",Oktober:"10",November:"11",Dezember:"12"}[a]||"01"}-${t.padStart(2,"0")}`}return e.match(/^\d{4}-\d{2}-\d{2}$/)?e:null},w=e=>{if(!e||e.length<2)return 0;const s=e.reduce((e,s)=>e+s,0)/e.length,t=e.map(e=>Math.pow(e-s,2)).reduce((e,s)=>e+s,0)/e.length;return Math.round(10*Math.sqrt(t))/10},z=(0,a.useMemo)(()=>{if(!s||0===s.length)return null;const e=s.filter(e=>e.morgenSys>0&&e.morgenDia>0&&e.abendSys>0&&e.abendDia>0);if(e.length<3)return{hasEnoughData:!1,message:"Zu wenige Tage haben sowohl Morgen- als auch Abendmessungen f\xfcr eine sinnvolle Analyse."};const t={sys:Math.round(e.reduce((e,s)=>e+s.morgenSys,0)/e.length),dia:Math.round(e.reduce((e,s)=>e+s.morgenDia,0)/e.length)},a={sys:Math.round(e.reduce((e,s)=>e+s.abendSys,0)/e.length),dia:Math.round(e.reduce((e,s)=>e+s.abendDia,0)/e.length)},n={sys:a.sys-t.sys,dia:a.dia-t.dia},r={sys:w(e.map(e=>e.morgenSys)),dia:w(e.map(e=>e.morgenDia))},i={sys:w(e.map(e=>e.abendSys)),dia:w(e.map(e=>e.abendDia))},l=[{name:"Morgen",systolisch:t.sys,diastolisch:t.dia},{name:"Abend",systolisch:a.sys,diastolisch:a.dia}],d=[...e].sort((e,s)=>{const t=M(e.datum),a=M(s.datum);return t&&a?t-a:0}).map(e=>({datum:e.datum,morgensys:e.morgenSys,morgendi:e.morgenDia,abendsys:e.abendSys,abenddia:e.abendDia,sysdiff:e.abendSys-e.morgenSys,diadiff:e.abendDia-e.morgenDia}));let o="";return o=Math.abs(n.sys)<=5&&Math.abs(n.dia)<=5?"Ihr Blutdruck ist \xfcber den Tag hinweg relativ stabil.":n.sys>5||n.dia>5?`Ihr Blutdruck ist abends durchschnittlich h\xf6her als morgens (${n.sys>0?"+":""}${n.sys}/${n.dia>0?"+":""}${n.dia} mmHg). Dies k\xf6nnte mit Aktivit\xe4t, Stress oder Mahlzeiten zusammenh\xe4ngen.`:`Ihr Blutdruck ist morgens durchschnittlich h\xf6her als abends (${n.sys}/${n.dia} mmHg). Dies ist f\xfcr manche Menschen normal, k\xf6nnte aber wichtig f\xfcr Ihre Medikamentenplanung sein.`,(Math.abs(n.sys)>15||Math.abs(n.dia)>10)&&(o+=" Die Differenz zwischen morgens und abends ist signifikant, was f\xfcr Ihren Arzt interessant sein k\xf6nnte."),{hasEnoughData:!0,message:null,avgMorning:t,avgEvening:a,timeDiff:n,stdDevMorning:r,stdDevEvening:i,chartData:l,dailyPatternData:d,interpretation:o}},[s]),E=(0,a.useMemo)(()=>{if(!s||s.length<7)return null;const e={Mo:1,Di:2,Mi:3,Do:4,Fr:5,Sa:6,So:7},t={1:"Montag",2:"Dienstag",3:"Mittwoch",4:"Donnerstag",5:"Freitag",6:"Samstag",7:"Sonntag"},a={};for(let s=1;s<=7;s++)a[s]={morgenSys:[],morgenDia:[],abendSys:[],abendDia:[],count:0};s.forEach(s=>{const t=e[s.tag];t&&(s.morgenSys>0&&s.morgenDia>0&&(a[t].morgenSys.push(s.morgenSys),a[t].morgenDia.push(s.morgenDia)),s.abendSys>0&&s.abendDia>0&&(a[t].abendSys.push(s.abendSys),a[t].abendDia.push(s.abendDia)),(s.morgenSys>0&&s.morgenDia>0||s.abendSys>0&&s.abendDia>0)&&a[t].count++)});const n=[];let r=!0;for(let s=1;s<=7;s++){const i=a[s];i.count<2&&(r=!1);const l=i.morgenSys.length>0?Math.round(i.morgenSys.reduce((e,s)=>e+s,0)/i.morgenSys.length):null,d=i.morgenDia.length>0?Math.round(i.morgenDia.reduce((e,s)=>e+s,0)/i.morgenDia.length):null,o=i.abendSys.length>0?Math.round(i.abendSys.reduce((e,s)=>e+s,0)/i.abendSys.length):null,m=i.abendDia.length>0?Math.round(i.abendDia.reduce((e,s)=>e+s,0)/i.abendDia.length):null;n.push({name:t[s],shortName:Object.keys(e).find(t=>e[t]===s),sort:s,morgenSys:l,morgenDia:d,abendSys:o,abendDia:m,count:i.count})}let i="";if(r){const e=n.filter(e=>e.sort>=1&&e.sort<=5),s=n.filter(e=>e.sort>=6&&e.sort<=7),t=e.reduce((e,s)=>e+(s.morgenSys||0),0)/e.length,a=s.reduce((e,s)=>e+(s.morgenSys||0),0)/s.length;i=Math.abs(t-a)>5?t>a?"Ihr Blutdruck ist an Wochentagen tendenziell h\xf6her als am Wochenende. Dies k\xf6nnte mit Arbeits- oder Alltagsstress zusammenh\xe4ngen.":"Ihr Blutdruck ist am Wochenende tendenziell h\xf6her als an Wochentagen. Dies k\xf6nnte mit ver\xe4ndertem Ess- oder Trinkverhalten, weniger Bewegung oder ver\xe4ndertem Schlafrhythmus zusammenh\xe4ngen.":"Es gibt keine auff\xe4lligen Unterschiede zwischen Ihrem Blutdruck an Wochentagen und am Wochenende."}else i="F\xfcr einige Wochentage liegen noch nicht gen\xfcgend Daten vor. Die Analyse wird genauer, wenn Sie mehr Messungen f\xfcr alle Wochentage haben.";return{hasEnoughData:r,weekdayData:n,interpretation:i}},[s]),$=(0,a.useMemo)(()=>{if(!s||s.length<30)return{hasEnoughData:!1,message:"F\xfcr eine jahreszeitliche Analyse werden Daten \xfcber einen l\xe4ngeren Zeitraum ben\xf6tigt (mindestens 30 Tage)."};const e={Januar:1,Februar:2,"M\xe4rz":3,April:4,Mai:5,Juni:6,Juli:7,August:8,September:9,Oktober:10,November:11,Dezember:12},t=["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],a={};s.forEach(s=>{let t=null,n=S(s.datum);if(s.datum.includes(" ")&&!s.datum.includes(".")){const a=s.datum.split(" ");t=e[a[0]]}else if(s.datum.includes(".")){const a=s.datum.split(". ");if(a.length>1){const s=a[1].split(" ")[0];t=e[s]}}if(!t)return;const r=`${n}-${t}`;a[r]||(a[r]={month:t,year:n,systolicValues:[],diastolicValues:[],count:0}),s.morgenSys>0&&s.morgenDia>0&&(a[r].systolicValues.push(s.morgenSys),a[r].diastolicValues.push(s.morgenDia),a[r].count++),s.abendSys>0&&s.abendDia>0&&(a[r].systolicValues.push(s.abendSys),a[r].diastolicValues.push(s.abendDia),a[r].count++)});const n=Object.values(a).filter(e=>e.count>0).length;if(n<2)return{hasEnoughData:!1,message:"Daten aus mindestens 2 verschiedenen Monaten werden f\xfcr eine jahreszeitliche Analyse ben\xf6tigt."};const r=Object.values(a).map(e=>{const s=Math.round(e.systolicValues.reduce((e,s)=>e+s,0)/e.systolicValues.length),a=Math.round(e.diastolicValues.reduce((e,s)=>e+s,0)/e.diastolicValues.length);return{month:e.month,year:e.year,name:t[e.month-1],displayName:`${t[e.month-1]} ${e.year}`,systolisch:s,diastolisch:a,count:e.count}});r.sort((e,s)=>e.year!==s.year?e.year-s.year:e.month-s.month);const i={winter:{months:[12,1,2],values:[],name:"Winter"},spring:{months:[3,4,5],values:[],name:"Fr\xfchling"},summer:{months:[6,7,8],values:[],name:"Sommer"},autumn:{months:[9,10,11],values:[],name:"Herbst"}};r.forEach(e=>{for(const[s,t]of Object.entries(i))if(t.months.includes(e.month)){t.values.push(e.systolisch);break}});const l=[];for(const[s,o]of Object.entries(i))if(o.values.length>0){const e=Math.round(o.values.reduce((e,s)=>e+s,0)/o.values.length);l.push({name:o.name,systolisch:e,count:o.values.length})}let d="";if(n<6)d="F\xfcr eine vollst\xe4ndige jahreszeitliche Analyse werden Daten aus mehr Monaten ben\xf6tigt. Die vorhandenen Daten geben jedoch erste Einblicke.";else if(l.length>=3){const e=l.reduce((e,s)=>s.systolisch>e.systolisch?s:e,l[0]),s=l.reduce((e,s)=>s.systolisch<e.systolisch?s:e,l[0]);d=e.systolisch-s.systolisch>5?`Ihr Blutdruck scheint im ${e.name} h\xf6her zu sein als im ${s.name}. Jahreszeitliche Schwankungen des Blutdrucks sind normal und k\xf6nnen durch Temperaturen, Aktivit\xe4tslevel und Ern\xe4hrung beeinflusst werden.`:"Es gibt keine signifikanten jahreszeitlichen Schwankungen in Ihrem Blutdruck basierend auf den verf\xfcgbaren Daten."}else d="Es liegen noch nicht gen\xfcgend Daten aus verschiedenen Jahreszeiten vor f\xfcr eine saisonale Analyse.";return{hasEnoughData:!0,monthlyData:r,seasonalData:l,monthsWithData:n,interpretation:d}},[s,S]),W=(0,a.useMemo)(()=>{if(!s||!t||0===Object.keys(t).length)return{hasEnoughData:!1,message:"Es liegen keine Kontextfaktoren vor oder sie sind nicht mit den Blutdruckdaten verkn\xfcpft."};const e=[];if(s.forEach(s=>{const a=A(s.datum);if(!a||!t[a])return;const n=t[a];e.push({...s,context:n})}),e.length<5)return{hasEnoughData:!1,message:"Es werden mindestens 5 Messungen mit Kontextfaktoren ben\xf6tigt, um Korrelationen zu erkennen."};const a={stress:"Stress",sleep:"Schlafqualit\xe4t",activity:"Aktivit\xe4t",salt:"Salzkonsum",caffeine:"Koffein",alcohol:"Alkohol"},n={};["stress","sleep","activity","salt","caffeine","alcohol"].forEach(s=>{const t={0:[],1:[],2:[]};e.forEach(e=>{const a=e.context[s];void 0!==a&&null!==a&&(e.morgenSys>0&&t[a].push(e.morgenSys),e.abendSys>0&&t[a].push(e.abendSys))});const r={};let i=!0;for(let e=0;e<=2;e++)t[e].length<3?(i=!1,r[e]=t[e].length>0?Math.round(t[e].reduce((e,s)=>e+s,0)/t[e].length):null):r[e]=Math.round(t[e].reduce((e,s)=>e+s,0)/t[e].length);let l=null,d="unbekannt";if(i&&null!==r[0]&&null!==r[2]){const e=r[2]-r[0];Math.abs(e)<=3?(l="neutral",d="gering"):e>0?(l="positiv",d=Math.abs(e)>8?"stark":"mittel"):(l="negativ",d=Math.abs(e)>8?"stark":"mittel")}const o=[],m={stress:["Niedrig","Mittel","Hoch"],sleep:["Schlecht","Mittel","Gut"],activity:["Niedrig","Mittel","Hoch"],salt:["Niedrig","Mittel","Hoch"],caffeine:["Niedrig","Mittel","Hoch"],alcohol:["Keiner","Wenig","Viel"]};for(let e=0;e<=2;e++)null!==r[e]&&o.push({name:m[s][e],value:e,systolisch:r[e],anzahl:t[e].length});n[s]={name:a[s],hasEnoughDataPoints:i,valueAverages:r,correlation:l,impact:d,chartData:o}});let r="Basierend auf Ihren Daten wurden folgende Einfl\xfcsse auf Ihren Blutdruck erkannt:\n";const i=Object.entries(n).filter(e=>{let[s,t]=e;return t.correlation&&"gering"!==t.impact}).map(e=>{let[s,t]=e;const a="positiv"===t.correlation?"erh\xf6ht":"senkt",n="stark"===t.impact?"deutlich":"moderat";return"sleep"===s&&"negativ"===t.correlation?`Bessere ${t.name} ${a} Ihren Blutdruck ${n}`:"sleep"===s&&"positiv"===t.correlation?`Schlechtere ${t.name} ${a} Ihren Blutdruck ${n}`:"positiv"===t.correlation?`H\xf6herer ${t.name} ${a} Ihren Blutdruck ${n}`:`Niedrigerer ${t.name} ${a} Ihren Blutdruck ${n}`});return 0===i.length?r="Es wurden keine eindeutigen Zusammenh\xe4nge zwischen Kontextfaktoren und Ihrem Blutdruck gefunden. Dies kann sich \xe4ndern, wenn Sie mehr Daten erfassen.":r+=i.join(". ")+".",{hasEnoughData:!0,enrichedData:e,factorAnalysis:n,interpretation:r}},[s,t,A]),[F,B]=(0,a.useState)({daynight:!0,weekday:!1,seasonal:!1,correlation:!1}),K=e=>{B(s=>({...s,[e]:!s[e]}))};return s&&0!==s.length?(0,N.jsxs)("div",{className:"p-4 rounded-lg shadow-sm mb-6 "+(h?"bg-gray-800":"bg-white"),children:[(0,N.jsx)("h2",{className:"text-lg font-semibold mb-4 "+(h?"text-gray-100":"text-gray-800"),children:"Erweiterte Statistiken & Trends"}),(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"border rounded-lg overflow-hidden "+(h?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,N.jsxs)("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>K("daynight"),children:[(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)(n.A,{size:22,className:"text-blue-600 mr-3"}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"font-medium "+(h?"text-gray-100":"text-gray-800"),children:"Tag/Nacht-Rhythmus"}),(0,N.jsx)("p",{className:"text-sm mt-0.5 "+(h?"text-gray-400":"text-gray-600"),children:null!==z&&void 0!==z&&z.hasEnoughData?z.timeDiff.sys>0?`Abends ${z.timeDiff.sys>0?"+":""}${z.timeDiff.sys} mmHg h\xf6her als morgens`:z.timeDiff.sys<0?`Morgens ${Math.abs(z.timeDiff.sys)} mmHg h\xf6her als abends`:"Stabil \xfcber den Tag":"Nicht gen\xfcgend Daten verf\xfcgbar"})]})]}),(0,N.jsx)("div",{children:F.daynight?(0,N.jsx)(r.A,{size:24}):(0,N.jsx)(i.A,{size:24})})]}),F.daynight&&(0,N.jsx)("div",{className:"p-4 pt-0 border-t "+(h?"border-gray-700":"border-gray-100"),children:null!==z&&void 0!==z&&z.hasEnoughData?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"mb-4",children:[(0,N.jsx)("div",{className:"p-3 rounded-md mb-3 "+(h?"bg-blue-900/20":"bg-blue-50"),children:(0,N.jsx)("p",{className:"text-sm "+(h?"text-gray-300":"text-gray-600"),children:z.interpretation})}),(0,N.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{className:"text-sm font-medium mb-1 "+(h?"text-gray-200":"text-gray-700"),children:"Morgen-Abend-Vergleich:"}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm bg-gray-50 p-2 rounded",children:[(0,N.jsx)("div",{className:"border-r border-gray-200 pr-2",children:(0,N.jsxs)("p",{children:[(0,N.jsx)("span",{className:"font-medium",children:"Morgens:"})," ",z.avgMorning.sys,"/",z.avgMorning.dia," mmHg"]})}),(0,N.jsx)("div",{children:(0,N.jsxs)("p",{children:[(0,N.jsx)("span",{className:"font-medium",children:"Abends:"})," ",z.avgEvening.sys,"/",z.avgEvening.dia," mmHg"]})})]}),(0,N.jsxs)("p",{className:"text-sm mt-1",children:[(0,N.jsx)("span",{className:"font-medium",children:"Differenz:"}),(0,N.jsxs)("span",{className:z.timeDiff.sys>0?"text-red-600":"text-blue-600",children:[" ",z.timeDiff.sys>0?"+":"",z.timeDiff.sys,"/",z.timeDiff.dia>0?"+":"",z.timeDiff.dia," mmHg"]})]})]})})]}),(0,N.jsx)("p",{className:"text-sm font-medium mb-2",children:"Durchschnittswerte im Tagesverlauf:"}),(0,N.jsx)("div",{className:"h-60 mb-4",children:(0,N.jsx)(c.u,{width:"100%",height:"100%",children:(0,N.jsxs)(y,{data:z.chartData,margin:{top:5,right:20,left:0,bottom:5},children:[(0,N.jsx)(f.d,{strokeDasharray:"3 3"}),(0,N.jsx)(g.W,{dataKey:"name"}),(0,N.jsx)(b.h,{domain:[60,180]}),(0,N.jsx)(p.m,{formatter:e=>[`${e} mmHg`,""],labelFormatter:e=>`${e}-Messung`}),(0,N.jsx)(j.s,{}),(0,N.jsx)(u.y,{dataKey:"systolisch",name:"Systolisch",fill:"#ff4136"}),(0,N.jsx)(u.y,{dataKey:"diastolisch",name:"Diastolisch",fill:"#0074d9"})]})})}),z.dailyPatternData.length>3&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{className:"text-sm font-medium mb-2",children:"Morgen-Abend-Differenzen (Systolisch):"}),(0,N.jsx)("div",{className:"h-60",children:(0,N.jsx)(c.u,{width:"100%",height:"100%",children:(0,N.jsxs)(v.b,{data:z.dailyPatternData,margin:{top:5,right:20,left:0,bottom:5},children:[(0,N.jsx)(f.d,{strokeDasharray:"3 3"}),(0,N.jsx)(g.W,{dataKey:"datum",tick:{fontSize:10}}),(0,N.jsx)(b.h,{domain:[-40,40]}),(0,N.jsx)(p.m,{formatter:e=>[`${e>0?"+":""}${e} mmHg`,""],labelFormatter:e=>`${e}`}),(0,N.jsx)(j.s,{}),(0,N.jsx)(D.N,{type:"monotone",dataKey:"sysdiff",name:"Abend-Morgen Differenz",stroke:"#8884d8",strokeWidth:2}),(0,N.jsx)(k.e,{y:0,stroke:"#000",strokeDasharray:"3 3"})]})})})]})]}):(0,N.jsxs)("div",{className:"p-3 rounded-md flex items-start border "+(h?"bg-amber-900/20 border-amber-800":"bg-amber-50 border-amber-200"),children:[(0,N.jsx)(l.A,{size:20,className:"text-amber-500 mr-2 flex-shrink-0 mt-0.5"}),(0,N.jsx)("p",{className:"text-sm "+(h?"text-amber-300":"text-amber-800"),children:(null===z||void 0===z?void 0:z.message)||"F\xfcr diese Analyse werden mehr Daten ben\xf6tigt."})]})})]}),(0,N.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>K("weekday"),children:[(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)(d.A,{size:22,className:"text-green-600 mr-3"}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"font-medium",children:"Wochentagsanalyse"}),(0,N.jsx)("p",{className:"text-sm text-gray-600 mt-0.5",children:E&&E.hasEnoughData?"Erkennt Muster an verschiedenen Wochentagen":"Nicht gen\xfcgend Daten verf\xfcgbar"})]})]}),(0,N.jsx)("div",{children:F.weekday?(0,N.jsx)(r.A,{size:24}):(0,N.jsx)(i.A,{size:24})})]}),F.weekday&&(0,N.jsx)("div",{className:"p-4 pt-0 border-t "+(h?"border-gray-700":"border-gray-100"),children:E&&E.hasEnoughData?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"p-3 bg-blue-50 rounded-md mb-3",children:(0,N.jsx)("p",{className:"text-sm",children:E.interpretation})}),(0,N.jsx)("div",{className:"mt-3 grid grid-cols-7 gap-1 text-xs mb-4",children:E.weekdayData.sort((e,s)=>e.sort-s.sort).map(e=>(0,N.jsxs)("div",{className:"p-1 text-center rounded",style:{backgroundColor:e.morgenSys>135?"#ffeeee":e.morgenSys<120?"#eeffee":"#ffffee"},children:[(0,N.jsx)("div",{className:"font-medium",children:e.shortName}),(0,N.jsx)("div",{className:"mt-1",children:e.morgenSys>0?e.morgenSys:"-"})]},e.shortName))}),(0,N.jsx)("p",{className:"text-sm font-medium mb-2",children:"Blutdruck nach Wochentagen:"}),(0,N.jsx)("div",{className:"h-60",children:(0,N.jsx)(c.u,{width:"100%",height:"100%",children:(0,N.jsxs)(y,{data:E.weekdayData.sort((e,s)=>e.sort-s.sort),margin:{top:5,right:20,left:0,bottom:5},children:[(0,N.jsx)(f.d,{strokeDasharray:"3 3"}),(0,N.jsx)(g.W,{dataKey:"shortName"}),(0,N.jsx)(b.h,{domain:[60,180]}),(0,N.jsx)(p.m,{formatter:(e,s)=>[`${e} mmHg`,"morgenSys"===s?"Morgen Systolisch":"abendSys"===s?"Abend Systolisch":s],labelFormatter:e=>{var s;return`Wochentag: ${(null===(s=E.weekdayData.find(s=>s.shortName===e))||void 0===s?void 0:s.name)||e}`}}),(0,N.jsx)(j.s,{}),(0,N.jsx)(u.y,{dataKey:"morgenSys",name:"Morgen Systolisch",fill:"#ff4136"}),(0,N.jsx)(u.y,{dataKey:"abendSys",name:"Abend Systolisch",fill:"#ff851b"})]})})})]}):(0,N.jsxs)("div",{className:"p-3 rounded-md flex items-start border "+(h?"bg-amber-900/20 border-amber-800":"bg-amber-50 border-amber-200"),children:[(0,N.jsx)(l.A,{size:20,className:"text-amber-500 mr-2 flex-shrink-0 mt-0.5"}),(0,N.jsx)("p",{className:"text-sm "+(h?"text-amber-300":"text-amber-800"),children:E?"Es liegen noch nicht gen\xfcgend Messungen f\xfcr alle Wochentage vor.":"Diese Analyse ben\xf6tigt Daten aus mindestens einer vollen Woche."})]})})]}),(0,N.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>K("seasonal"),children:[(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)(o.A,{size:22,className:"text-orange-600 mr-3"}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"font-medium",children:"Jahreszeitliche Schwankungen"}),(0,N.jsx)("p",{className:"text-sm text-gray-600 mt-0.5",children:null!==$&&void 0!==$&&$.hasEnoughData?`Daten aus ${$.monthsWithData} von 12 Monaten verf\xfcgbar`:"Nicht gen\xfcgend langfristige Daten"})]})]}),(0,N.jsx)("div",{children:F.seasonal?(0,N.jsx)(r.A,{size:24}):(0,N.jsx)(i.A,{size:24})})]}),F.seasonal&&(0,N.jsx)("div",{className:"p-4 pt-0 border-t "+(h?"border-gray-700":"border-gray-100"),children:null!==$&&void 0!==$&&$.hasEnoughData?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"p-3 bg-blue-50 rounded-md mb-3",children:(0,N.jsx)("p",{className:"text-sm",children:$.interpretation})}),(0,N.jsx)("p",{className:"text-sm font-medium mb-2",children:"Monatlicher Blutdruckverlauf:"}),(0,N.jsx)("div",{className:"h-60 mb-4",children:(0,N.jsx)(c.u,{width:"100%",height:"100%",children:(0,N.jsxs)(v.b,{data:$.monthlyData,margin:{top:5,right:20,left:0,bottom:5},children:[(0,N.jsx)(f.d,{strokeDasharray:"3 3"}),(0,N.jsx)(g.W,{dataKey:"displayName",tick:{fontSize:10}}),(0,N.jsx)(b.h,{domain:["dataMin - 5","dataMax + 5"]}),(0,N.jsx)(p.m,{formatter:e=>[`${e} mmHg`,""]}),(0,N.jsx)(j.s,{}),(0,N.jsx)(D.N,{type:"monotone",dataKey:"systolisch",name:"Systolisch",stroke:"#ff4136",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})}),$.seasonalData.length>0&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{className:"text-sm font-medium mb-2",children:"Jahreszeitliche Trends:"}),(0,N.jsx)("div",{className:"h-60",children:(0,N.jsx)(c.u,{width:"100%",height:"100%",children:(0,N.jsxs)(y,{data:$.seasonalData,margin:{top:5,right:20,left:0,bottom:5},children:[(0,N.jsx)(f.d,{strokeDasharray:"3 3"}),(0,N.jsx)(g.W,{dataKey:"name"}),(0,N.jsx)(b.h,{domain:["dataMin - 5","dataMax + 5"]}),(0,N.jsx)(p.m,{formatter:e=>[`${e} mmHg`,""]}),(0,N.jsx)(j.s,{}),(0,N.jsx)(u.y,{dataKey:"systolisch",name:"Systolisch",fill:"#ff4136",barSize:60})]})})})]})]}):(0,N.jsxs)("div",{className:"p-3 rounded-md flex items-start border "+(h?"bg-amber-900/20 border-amber-800":"bg-amber-50 border-amber-200"),children:[(0,N.jsx)(l.A,{size:20,className:"text-amber-500 mr-2 flex-shrink-0 mt-0.5"}),(0,N.jsx)("p",{className:"text-sm "+(h?"text-amber-300":"text-amber-800"),children:(null===$||void 0===$?void 0:$.message)||"F\xfcr diese Analyse werden mehr Daten ben\xf6tigt."})]})})]}),(0,N.jsxs)("div",{className:"border rounded-lg overflow-hidden "+(h?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,N.jsxs)("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>K("correlation"),children:[(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)(m.A,{size:22,className:"text-purple-600 mr-3"}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"font-medium "+(h?"text-gray-100":"text-gray-800"),children:"Kontextfaktor-Korrelation"}),(0,N.jsx)("p",{className:"text-sm mt-0.5 "+(h?"text-gray-400":"text-gray-600"),children:null!==W&&void 0!==W&&W.hasEnoughData?"Analysiert Einflussfaktoren auf Ihren Blutdruck":"Nicht gen\xfcgend Kontextdaten"})]})]}),(0,N.jsx)("div",{children:F.correlation?(0,N.jsx)(r.A,{size:24}):(0,N.jsx)(i.A,{size:24})})]}),F.correlation&&(0,N.jsx)("div",{className:"p-4 pt-0 border-t "+(h?"border-gray-700":"border-gray-100"),children:null!==W&&void 0!==W&&W.hasEnoughData?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"p-3 rounded-md mb-3 "+(h?"bg-blue-900/20":"bg-blue-50"),children:(0,N.jsx)("p",{className:"text-sm "+(h?"text-blue-300":"text-blue-800"),children:W.interpretation})}),(0,N.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:Object.entries(W.factorAnalysis).filter(e=>{let[s,t]=e;return t.correlation&&"gering"!==t.impact}).map(e=>{let[s,t]=e;return(0,N.jsxs)("div",{className:"p-3 rounded-md "+(h?"bg-gray-700":"bg-gray-50"),children:[(0,N.jsx)("h4",{className:"font-medium text-sm mb-2 "+(h?"text-gray-200":"text-gray-700"),children:t.name}),t.hasEnoughDataPoints?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"h-36",children:(0,N.jsx)(c.u,{width:"100%",height:"100%",children:(0,N.jsxs)(v.b,{data:t.chartData,margin:{top:5,right:5,left:5,bottom:5},children:[(0,N.jsx)(f.d,{strokeDasharray:"3 3",stroke:x.grid}),(0,N.jsx)(g.W,{dataKey:"name",tick:{fill:x.text}}),(0,N.jsx)(b.h,{domain:["dataMin - 5","dataMax + 5"],tick:{fill:x.text}}),(0,N.jsx)(p.m,{contentStyle:x.tooltip.contentStyle,labelStyle:x.tooltip.labelStyle,itemStyle:x.tooltip.itemStyle,formatter:(e,s)=>["systolisch"===s?`${e} mmHg`:e,"systolisch"===s?"Systolischer Blutdruck":s]}),(0,N.jsx)(D.N,{type:"monotone",dataKey:"systolisch",name:"Systolisch",stroke:"#ff4136",strokeWidth:2,dot:{r:4}})]})})}),t.correlation&&(0,N.jsxs)("div",{className:"mt-2 text-xs",children:[(0,N.jsx)("span",{className:"font-medium "+(h?"text-gray-300":"text-gray-700"),children:"Einfluss: "}),(0,N.jsxs)("span",{className:`${"stark"===t.impact?"font-bold":""} ${"positiv"===t.correlation?"text-red-600":"negativ"===t.correlation?"text-blue-600":"text-gray-600"}`,children:["stark"===t.impact?"Starker":"mittel"===t.impact?"Mittlerer":"Geringer","positiv"===t.correlation?" erh\xf6hender":"negativ"===t.correlation?" senkender":""," Effekt"]})]})]}):(0,N.jsx)("p",{className:"text-xs "+(h?"text-gray-400":"text-gray-600"),children:"Nicht gen\xfcgend Daten f\xfcr eine zuverl\xe4ssige Analyse."})]},s)})})]}):(0,N.jsxs)("div",{className:"p-3 rounded-md flex items-start border "+(h?"bg-amber-900/20 border-amber-800":"bg-amber-50 border-amber-200"),children:[(0,N.jsx)(l.A,{size:20,className:"text-amber-500 mr-2 flex-shrink-0 mt-0.5"}),(0,N.jsx)("p",{className:"text-sm "+(h?"text-amber-300":"text-amber-800"),children:(null===W||void 0===W?void 0:W.message)||"F\xfcr diese Analyse werden mehr Daten ben\xf6tigt."})]})})]})]})]}):null}}}]);
//# sourceMappingURL=104.944b69a0.chunk.js.map