"use strict";(self.webpackChunkblutdruck_tracker=self.webpackChunkblutdruck_tracker||[]).push([[104],{2825:(e,s,t)=>{t.d(s,{A:()=>n});const n=(0,t(3797).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},3458:(e,s,t)=>{t.d(s,{A:()=>n});const n=(0,t(3797).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3666:(e,s,t)=>{t.d(s,{A:()=>n});const n=(0,t(3797).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},7104:(e,s,t)=>{t.r(s),t.d(s,{default:()=>S});var n=t(5043),a=t(3458),r=t(2825),i=t(3666),l=t(2543),d=t(2938),o=t(5275),h=t(5099),c=t(108),m=t(3014),u=t(8643),g=t(2185),x=t(6026),b=t(3831),f=(0,m.gu)({chartName:"BarChart",GraphicalChild:u.y,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:g.W},{axisType:"yAxis",AxisComp:x.h}],formatAxisMap:b.pr}),y=t(7734),j=t(6150),p=t(1327),v=t(5748),D=t(168),k=t(3243),N=t(579);const S=e=>{let{data:s,contextFactors:t}=e;const m=e=>{if(!e)return(new Date).getFullYear();const s=e.match(/\b(20\d{2})\b/);return s?parseInt(s[1]):(new Date).getFullYear()},b=e=>{if(!e)return null;const s=m(e),t={Januar:0,Februar:1,"M\xe4rz":2,April:3,Mai:4,Juni:5,Juli:6,August:7,September:8,Oktober:9,November:10,Dezember:11};if(e.includes(" ")&&!e.includes(".")){const n=e.split(" ");if(n.length>=2&&void 0!==t[n[0]]){const e=n[0],a=parseInt(n[1]);if(!isNaN(a))return new Date(s,t[e],a)}}if(e.includes(".")&&e.includes(" ")){const n=e.split(". ");if(n.length>=2){const e=parseInt(n[0]),a=n[1].split(" ")[0];if(!isNaN(e)&&void 0!==t[a])return new Date(s,t[a],e)}}return null},S=e=>{if(!e)return null;const s=m(e);if(e.includes(" ")&&!e.includes(".")){const t=e.split(" "),n=t[0];let a=t[1];a.includes(",")&&(a=a.split(",")[0]);return`${s}-${{Januar:"01",Februar:"02","M\xe4rz":"03",April:"04",Mai:"05",Juni:"06",Juli:"07",August:"08",September:"09",Oktober:"10",November:"11",Dezember:"12"}[n]||"01"}-${a.padStart(2,"0")}`}if(e.includes(".")&&e.includes(" ")){let t,n;if(e.startsWith(e.match(/\d+/)[0])){const s=e.split(". ");t=s[0];n=s[1].split(" ")[0]}else{const s=e.split(" ");n=s[0],t=s[1].replace(".","").trim()}return`${s}-${{Januar:"01",Februar:"02","M\xe4rz":"03",April:"04",Mai:"05",Juni:"06",Juli:"07",August:"08",September:"09",Oktober:"10",November:"11",Dezember:"12"}[n]||"01"}-${t.padStart(2,"0")}`}return e.match(/^\d{4}-\d{2}-\d{2}$/)?e:null},M=e=>{if(!e||e.length<2)return 0;const s=e.reduce(((e,s)=>e+s),0)/e.length,t=e.map((e=>Math.pow(e-s,2))).reduce(((e,s)=>e+s),0)/e.length;return Math.round(10*Math.sqrt(t))/10},A=(0,n.useMemo)((()=>{if(!s||0===s.length)return null;const e=s.filter((e=>e.morgenSys>0&&e.morgenDia>0&&e.abendSys>0&&e.abendDia>0));if(e.length<3)return{hasEnoughData:!1,message:"Zu wenige Tage haben sowohl Morgen- als auch Abendmessungen f\xfcr eine sinnvolle Analyse."};const t={sys:Math.round(e.reduce(((e,s)=>e+s.morgenSys),0)/e.length),dia:Math.round(e.reduce(((e,s)=>e+s.morgenDia),0)/e.length)},n={sys:Math.round(e.reduce(((e,s)=>e+s.abendSys),0)/e.length),dia:Math.round(e.reduce(((e,s)=>e+s.abendDia),0)/e.length)},a={sys:n.sys-t.sys,dia:n.dia-t.dia},r={sys:M(e.map((e=>e.morgenSys))),dia:M(e.map((e=>e.morgenDia)))},i={sys:M(e.map((e=>e.abendSys))),dia:M(e.map((e=>e.abendDia)))},l=[{name:"Morgen",systolisch:t.sys,diastolisch:t.dia},{name:"Abend",systolisch:n.sys,diastolisch:n.dia}],d=[...e].sort(((e,s)=>{const t=b(e.datum),n=b(s.datum);return t&&n?t-n:0})).map((e=>({datum:e.datum,morgensys:e.morgenSys,morgendi:e.morgenDia,abendsys:e.abendSys,abenddia:e.abendDia,sysdiff:e.abendSys-e.morgenSys,diadiff:e.abendDia-e.morgenDia})));let o="";return o=Math.abs(a.sys)<=5&&Math.abs(a.dia)<=5?"Ihr Blutdruck ist \xfcber den Tag hinweg relativ stabil.":a.sys>5||a.dia>5?`Ihr Blutdruck ist abends durchschnittlich h\xf6her als morgens (${a.sys>0?"+":""}${a.sys}/${a.dia>0?"+":""}${a.dia} mmHg). Dies k\xf6nnte mit Aktivit\xe4t, Stress oder Mahlzeiten zusammenh\xe4ngen.`:`Ihr Blutdruck ist morgens durchschnittlich h\xf6her als abends (${a.sys}/${a.dia} mmHg). Dies ist f\xfcr manche Menschen normal, k\xf6nnte aber wichtig f\xfcr Ihre Medikamentenplanung sein.`,(Math.abs(a.sys)>15||Math.abs(a.dia)>10)&&(o+=" Die Differenz zwischen morgens und abends ist signifikant, was f\xfcr Ihren Arzt interessant sein k\xf6nnte."),{hasEnoughData:!0,message:null,avgMorning:t,avgEvening:n,timeDiff:a,stdDevMorning:r,stdDevEvening:i,chartData:l,dailyPatternData:d,interpretation:o}}),[s]),w=(0,n.useMemo)((()=>{if(!s||s.length<7)return null;const e={Mo:1,Di:2,Mi:3,Do:4,Fr:5,Sa:6,So:7},t={1:"Montag",2:"Dienstag",3:"Mittwoch",4:"Donnerstag",5:"Freitag",6:"Samstag",7:"Sonntag"},n={};for(let s=1;s<=7;s++)n[s]={morgenSys:[],morgenDia:[],abendSys:[],abendDia:[],count:0};s.forEach((s=>{const t=e[s.tag];t&&(s.morgenSys>0&&s.morgenDia>0&&(n[t].morgenSys.push(s.morgenSys),n[t].morgenDia.push(s.morgenDia)),s.abendSys>0&&s.abendDia>0&&(n[t].abendSys.push(s.abendSys),n[t].abendDia.push(s.abendDia)),(s.morgenSys>0&&s.morgenDia>0||s.abendSys>0&&s.abendDia>0)&&n[t].count++)}));const a=[];let r=!0;for(let s=1;s<=7;s++){const i=n[s];i.count<2&&(r=!1);const l=i.morgenSys.length>0?Math.round(i.morgenSys.reduce(((e,s)=>e+s),0)/i.morgenSys.length):null,d=i.morgenDia.length>0?Math.round(i.morgenDia.reduce(((e,s)=>e+s),0)/i.morgenDia.length):null,o=i.abendSys.length>0?Math.round(i.abendSys.reduce(((e,s)=>e+s),0)/i.abendSys.length):null,h=i.abendDia.length>0?Math.round(i.abendDia.reduce(((e,s)=>e+s),0)/i.abendDia.length):null;a.push({name:t[s],shortName:Object.keys(e).find((t=>e[t]===s)),sort:s,morgenSys:l,morgenDia:d,abendSys:o,abendDia:h,count:i.count})}let i="";if(r){const e=a.filter((e=>e.sort>=1&&e.sort<=5)),s=a.filter((e=>e.sort>=6&&e.sort<=7)),t=e.reduce(((e,s)=>e+(s.morgenSys||0)),0)/e.length,n=s.reduce(((e,s)=>e+(s.morgenSys||0)),0)/s.length;i=Math.abs(t-n)>5?t>n?"Ihr Blutdruck ist an Wochentagen tendenziell h\xf6her als am Wochenende. Dies k\xf6nnte mit Arbeits- oder Alltagsstress zusammenh\xe4ngen.":"Ihr Blutdruck ist am Wochenende tendenziell h\xf6her als an Wochentagen. Dies k\xf6nnte mit ver\xe4ndertem Ess- oder Trinkverhalten, weniger Bewegung oder ver\xe4ndertem Schlafrhythmus zusammenh\xe4ngen.":"Es gibt keine auff\xe4lligen Unterschiede zwischen Ihrem Blutdruck an Wochentagen und am Wochenende."}else i="F\xfcr einige Wochentage liegen noch nicht gen\xfcgend Daten vor. Die Analyse wird genauer, wenn Sie mehr Messungen f\xfcr alle Wochentage haben.";return{hasEnoughData:r,weekdayData:a,interpretation:i}}),[s]),z=(0,n.useMemo)((()=>{if(!s||s.length<30)return{hasEnoughData:!1,message:"F\xfcr eine jahreszeitliche Analyse werden Daten \xfcber einen l\xe4ngeren Zeitraum ben\xf6tigt (mindestens 30 Tage)."};const e={Januar:1,Februar:2,"M\xe4rz":3,April:4,Mai:5,Juni:6,Juli:7,August:8,September:9,Oktober:10,November:11,Dezember:12},t=["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],n={};s.forEach((s=>{let t=null,a=m(s.datum);if(s.datum.includes(" ")&&!s.datum.includes(".")){const n=s.datum.split(" ");t=e[n[0]]}else if(s.datum.includes(".")){const n=s.datum.split(". ");if(n.length>1){const s=n[1].split(" ")[0];t=e[s]}}if(!t)return;const r=`${a}-${t}`;n[r]||(n[r]={month:t,year:a,systolicValues:[],diastolicValues:[],count:0}),s.morgenSys>0&&s.morgenDia>0&&(n[r].systolicValues.push(s.morgenSys),n[r].diastolicValues.push(s.morgenDia),n[r].count++),s.abendSys>0&&s.abendDia>0&&(n[r].systolicValues.push(s.abendSys),n[r].diastolicValues.push(s.abendDia),n[r].count++)}));const a=Object.values(n).filter((e=>e.count>0)).length;if(a<2)return{hasEnoughData:!1,message:"Daten aus mindestens 2 verschiedenen Monaten werden f\xfcr eine jahreszeitliche Analyse ben\xf6tigt."};const r=Object.values(n).map((e=>{const s=Math.round(e.systolicValues.reduce(((e,s)=>e+s),0)/e.systolicValues.length),n=Math.round(e.diastolicValues.reduce(((e,s)=>e+s),0)/e.diastolicValues.length);return{month:e.month,year:e.year,name:t[e.month-1],displayName:`${t[e.month-1]} ${e.year}`,systolisch:s,diastolisch:n,count:e.count}}));r.sort(((e,s)=>e.year!==s.year?e.year-s.year:e.month-s.month));const i={winter:{months:[12,1,2],values:[],name:"Winter"},spring:{months:[3,4,5],values:[],name:"Fr\xfchling"},summer:{months:[6,7,8],values:[],name:"Sommer"},autumn:{months:[9,10,11],values:[],name:"Herbst"}};r.forEach((e=>{for(const[s,t]of Object.entries(i))if(t.months.includes(e.month)){t.values.push(e.systolisch);break}}));const l=[];for(const[s,o]of Object.entries(i))if(o.values.length>0){const e=Math.round(o.values.reduce(((e,s)=>e+s),0)/o.values.length);l.push({name:o.name,systolisch:e,count:o.values.length})}let d="";if(a<6)d="F\xfcr eine vollst\xe4ndige jahreszeitliche Analyse werden Daten aus mehr Monaten ben\xf6tigt. Die vorhandenen Daten geben jedoch erste Einblicke.";else if(l.length>=3){const e=l.reduce(((e,s)=>s.systolisch>e.systolisch?s:e),l[0]),s=l.reduce(((e,s)=>s.systolisch<e.systolisch?s:e),l[0]);d=e.systolisch-s.systolisch>5?`Ihr Blutdruck scheint im ${e.name} h\xf6her zu sein als im ${s.name}. Jahreszeitliche Schwankungen des Blutdrucks sind normal und k\xf6nnen durch Temperaturen, Aktivit\xe4tslevel und Ern\xe4hrung beeinflusst werden.`:"Es gibt keine signifikanten jahreszeitlichen Schwankungen in Ihrem Blutdruck basierend auf den verf\xfcgbaren Daten."}else d="Es liegen noch nicht gen\xfcgend Daten aus verschiedenen Jahreszeiten vor f\xfcr eine saisonale Analyse.";return{hasEnoughData:!0,monthlyData:r,seasonalData:l,monthsWithData:a,interpretation:d}}),[s,m]),E=(0,n.useMemo)((()=>{if(!s||!t||0===Object.keys(t).length)return{hasEnoughData:!1,message:"Es liegen keine Kontextfaktoren vor oder sie sind nicht mit den Blutdruckdaten verkn\xfcpft."};const e=[];if(s.forEach((s=>{const n=S(s.datum);if(!n||!t[n])return;const a=t[n];e.push({...s,context:a})})),e.length<5)return{hasEnoughData:!1,message:"Es werden mindestens 5 Messungen mit Kontextfaktoren ben\xf6tigt, um Korrelationen zu erkennen."};const n={stress:"Stress",sleep:"Schlafqualit\xe4t",activity:"Aktivit\xe4t",salt:"Salzkonsum",caffeine:"Koffein",alcohol:"Alkohol"},a={};["stress","sleep","activity","salt","caffeine","alcohol"].forEach((s=>{const t={0:[],1:[],2:[]};e.forEach((e=>{const n=e.context[s];void 0!==n&&null!==n&&(e.morgenSys>0&&t[n].push(e.morgenSys),e.abendSys>0&&t[n].push(e.abendSys))}));const r={};let i=!0;for(let e=0;e<=2;e++)t[e].length<3?(i=!1,r[e]=t[e].length>0?Math.round(t[e].reduce(((e,s)=>e+s),0)/t[e].length):null):r[e]=Math.round(t[e].reduce(((e,s)=>e+s),0)/t[e].length);let l=null,d="unbekannt";if(i&&null!==r[0]&&null!==r[2]){const e=r[2]-r[0];Math.abs(e)<=3?(l="neutral",d="gering"):e>0?(l="positiv",d=Math.abs(e)>8?"stark":"mittel"):(l="negativ",d=Math.abs(e)>8?"stark":"mittel")}const o=[],h={stress:["Niedrig","Mittel","Hoch"],sleep:["Schlecht","Mittel","Gut"],activity:["Niedrig","Mittel","Hoch"],salt:["Niedrig","Mittel","Hoch"],caffeine:["Niedrig","Mittel","Hoch"],alcohol:["Keiner","Wenig","Viel"]};for(let e=0;e<=2;e++)null!==r[e]&&o.push({name:h[s][e],value:e,systolisch:r[e],anzahl:t[e].length});a[s]={name:n[s],hasEnoughDataPoints:i,valueAverages:r,correlation:l,impact:d,chartData:o}}));let r="Basierend auf Ihren Daten wurden folgende Einfl\xfcsse auf Ihren Blutdruck erkannt:\n";const i=Object.entries(a).filter((e=>{let[s,t]=e;return t.correlation&&"gering"!==t.impact})).map((e=>{let[s,t]=e;const n="positiv"===t.correlation?"erh\xf6ht":"senkt",a="stark"===t.impact?"deutlich":"moderat";return"sleep"===s&&"negativ"===t.correlation?`Bessere ${t.name} ${n} Ihren Blutdruck ${a}`:"sleep"===s&&"positiv"===t.correlation?`Schlechtere ${t.name} ${n} Ihren Blutdruck ${a}`:"positiv"===t.correlation?`H\xf6herer ${t.name} ${n} Ihren Blutdruck ${a}`:`Niedrigerer ${t.name} ${n} Ihren Blutdruck ${a}`}));return 0===i.length?r="Es wurden keine eindeutigen Zusammenh\xe4nge zwischen Kontextfaktoren und Ihrem Blutdruck gefunden. Dies kann sich \xe4ndern, wenn Sie mehr Daten erfassen.":r+=i.join(". ")+".",{hasEnoughData:!0,enrichedData:e,factorAnalysis:a,interpretation:r}}),[s,t,S]),[$,W]=(0,n.useState)({daynight:!0,weekday:!1,seasonal:!1,correlation:!1}),F=e=>{W((s=>({...s,[e]:!s[e]})))};return s&&0!==s.length?(0,N.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-6",children:[(0,N.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Erweiterte Statistiken & Trends"}),(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>F("daynight"),children:[(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)(a.A,{size:22,className:"text-blue-600 mr-3"}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"font-medium",children:"Tag/Nacht-Rhythmus"}),(0,N.jsx)("p",{className:"text-sm text-gray-600 mt-0.5",children:null!==A&&void 0!==A&&A.hasEnoughData?A.timeDiff.sys>0?`Abends ${A.timeDiff.sys>0?"+":""}${A.timeDiff.sys} mmHg h\xf6her als morgens`:A.timeDiff.sys<0?`Morgens ${Math.abs(A.timeDiff.sys)} mmHg h\xf6her als abends`:"Stabil \xfcber den Tag":"Nicht gen\xfcgend Daten verf\xfcgbar"})]})]}),(0,N.jsx)("div",{children:$.daynight?(0,N.jsx)(r.A,{size:24}):(0,N.jsx)(i.A,{size:24})})]}),$.daynight&&(0,N.jsx)("div",{className:"p-4 pt-0 border-t border-gray-100",children:null!==A&&void 0!==A&&A.hasEnoughData?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"mb-4",children:[(0,N.jsx)("div",{className:"p-3 bg-blue-50 rounded-md mb-3",children:(0,N.jsx)("p",{className:"text-sm",children:A.interpretation})}),(0,N.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{className:"text-sm font-medium mb-1",children:"Morgen-Abend-Vergleich:"}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm bg-gray-50 p-2 rounded",children:[(0,N.jsx)("div",{className:"border-r border-gray-200 pr-2",children:(0,N.jsxs)("p",{children:[(0,N.jsx)("span",{className:"font-medium",children:"Morgens:"})," ",A.avgMorning.sys,"/",A.avgMorning.dia," mmHg"]})}),(0,N.jsx)("div",{children:(0,N.jsxs)("p",{children:[(0,N.jsx)("span",{className:"font-medium",children:"Abends:"})," ",A.avgEvening.sys,"/",A.avgEvening.dia," mmHg"]})})]}),(0,N.jsxs)("p",{className:"text-sm mt-1",children:[(0,N.jsx)("span",{className:"font-medium",children:"Differenz:"}),(0,N.jsxs)("span",{className:A.timeDiff.sys>0?"text-red-600":"text-blue-600",children:[" ",A.timeDiff.sys>0?"+":"",A.timeDiff.sys,"/",A.timeDiff.dia>0?"+":"",A.timeDiff.dia," mmHg"]})]})]})})]}),(0,N.jsx)("p",{className:"text-sm font-medium mb-2",children:"Durchschnittswerte im Tagesverlauf:"}),(0,N.jsx)("div",{className:"h-60 mb-4",children:(0,N.jsx)(c.u,{width:"100%",height:"100%",children:(0,N.jsxs)(f,{data:A.chartData,margin:{top:5,right:20,left:0,bottom:5},children:[(0,N.jsx)(y.d,{strokeDasharray:"3 3"}),(0,N.jsx)(g.W,{dataKey:"name"}),(0,N.jsx)(x.h,{domain:[60,180]}),(0,N.jsx)(j.m,{formatter:e=>[`${e} mmHg`,""],labelFormatter:e=>`${e}-Messung`}),(0,N.jsx)(p.s,{}),(0,N.jsx)(u.y,{dataKey:"systolisch",name:"Systolisch",fill:"#ff4136"}),(0,N.jsx)(u.y,{dataKey:"diastolisch",name:"Diastolisch",fill:"#0074d9"})]})})}),A.dailyPatternData.length>3&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{className:"text-sm font-medium mb-2",children:"Morgen-Abend-Differenzen (Systolisch):"}),(0,N.jsx)("div",{className:"h-60",children:(0,N.jsx)(c.u,{width:"100%",height:"100%",children:(0,N.jsxs)(v.b,{data:A.dailyPatternData,margin:{top:5,right:20,left:0,bottom:5},children:[(0,N.jsx)(y.d,{strokeDasharray:"3 3"}),(0,N.jsx)(g.W,{dataKey:"datum",tick:{fontSize:10}}),(0,N.jsx)(x.h,{domain:[-40,40]}),(0,N.jsx)(j.m,{formatter:e=>[`${e>0?"+":""}${e} mmHg`,""],labelFormatter:e=>`${e}`}),(0,N.jsx)(p.s,{}),(0,N.jsx)(D.N,{type:"monotone",dataKey:"sysdiff",name:"Abend-Morgen Differenz",stroke:"#8884d8",strokeWidth:2}),(0,N.jsx)(k.e,{y:0,stroke:"#000",strokeDasharray:"3 3"})]})})})]})]}):(0,N.jsxs)("div",{className:"bg-amber-50 border border-amber-200 p-3 rounded-md flex items-start",children:[(0,N.jsx)(l.A,{size:20,className:"text-amber-500 mr-2 flex-shrink-0 mt-0.5"}),(0,N.jsx)("p",{className:"text-sm text-amber-800",children:(null===A||void 0===A?void 0:A.message)||"F\xfcr diese Analyse werden mehr Daten ben\xf6tigt."})]})})]}),(0,N.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>F("weekday"),children:[(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)(d.A,{size:22,className:"text-green-600 mr-3"}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"font-medium",children:"Wochentagsanalyse"}),(0,N.jsx)("p",{className:"text-sm text-gray-600 mt-0.5",children:w&&w.hasEnoughData?"Erkennt Muster an verschiedenen Wochentagen":"Nicht gen\xfcgend Daten verf\xfcgbar"})]})]}),(0,N.jsx)("div",{children:$.weekday?(0,N.jsx)(r.A,{size:24}):(0,N.jsx)(i.A,{size:24})})]}),$.weekday&&(0,N.jsx)("div",{className:"p-4 pt-0 border-t border-gray-100",children:w&&w.hasEnoughData?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"p-3 bg-blue-50 rounded-md mb-3",children:(0,N.jsx)("p",{className:"text-sm",children:w.interpretation})}),(0,N.jsx)("div",{className:"mt-3 grid grid-cols-7 gap-1 text-xs mb-4",children:w.weekdayData.sort(((e,s)=>e.sort-s.sort)).map((e=>(0,N.jsxs)("div",{className:"p-1 text-center rounded",style:{backgroundColor:e.morgenSys>135?"#ffeeee":e.morgenSys<120?"#eeffee":"#ffffee"},children:[(0,N.jsx)("div",{className:"font-medium",children:e.shortName}),(0,N.jsx)("div",{className:"mt-1",children:e.morgenSys>0?e.morgenSys:"-"})]},e.shortName)))}),(0,N.jsx)("p",{className:"text-sm font-medium mb-2",children:"Blutdruck nach Wochentagen:"}),(0,N.jsx)("div",{className:"h-60",children:(0,N.jsx)(c.u,{width:"100%",height:"100%",children:(0,N.jsxs)(f,{data:w.weekdayData.sort(((e,s)=>e.sort-s.sort)),margin:{top:5,right:20,left:0,bottom:5},children:[(0,N.jsx)(y.d,{strokeDasharray:"3 3"}),(0,N.jsx)(g.W,{dataKey:"shortName"}),(0,N.jsx)(x.h,{domain:[60,180]}),(0,N.jsx)(j.m,{formatter:(e,s)=>[`${e} mmHg`,"morgenSys"===s?"Morgen Systolisch":"abendSys"===s?"Abend Systolisch":s],labelFormatter:e=>{var s;return`Wochentag: ${(null===(s=w.weekdayData.find((s=>s.shortName===e)))||void 0===s?void 0:s.name)||e}`}}),(0,N.jsx)(p.s,{}),(0,N.jsx)(u.y,{dataKey:"morgenSys",name:"Morgen Systolisch",fill:"#ff4136"}),(0,N.jsx)(u.y,{dataKey:"abendSys",name:"Abend Systolisch",fill:"#ff851b"})]})})})]}):(0,N.jsxs)("div",{className:"bg-amber-50 border border-amber-200 p-3 rounded-md flex items-start",children:[(0,N.jsx)(l.A,{size:20,className:"text-amber-500 mr-2 flex-shrink-0 mt-0.5"}),(0,N.jsx)("p",{className:"text-sm text-amber-800",children:w?"Es liegen noch nicht gen\xfcgend Messungen f\xfcr alle Wochentage vor.":"Diese Analyse ben\xf6tigt Daten aus mindestens einer vollen Woche."})]})})]}),(0,N.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>F("seasonal"),children:[(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)(o.A,{size:22,className:"text-orange-600 mr-3"}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"font-medium",children:"Jahreszeitliche Schwankungen"}),(0,N.jsx)("p",{className:"text-sm text-gray-600 mt-0.5",children:null!==z&&void 0!==z&&z.hasEnoughData?`Daten aus ${z.monthsWithData} von 12 Monaten verf\xfcgbar`:"Nicht gen\xfcgend langfristige Daten"})]})]}),(0,N.jsx)("div",{children:$.seasonal?(0,N.jsx)(r.A,{size:24}):(0,N.jsx)(i.A,{size:24})})]}),$.seasonal&&(0,N.jsx)("div",{className:"p-4 pt-0 border-t border-gray-100",children:null!==z&&void 0!==z&&z.hasEnoughData?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"p-3 bg-blue-50 rounded-md mb-3",children:(0,N.jsx)("p",{className:"text-sm",children:z.interpretation})}),(0,N.jsx)("p",{className:"text-sm font-medium mb-2",children:"Monatlicher Blutdruckverlauf:"}),(0,N.jsx)("div",{className:"h-60 mb-4",children:(0,N.jsx)(c.u,{width:"100%",height:"100%",children:(0,N.jsxs)(v.b,{data:z.monthlyData,margin:{top:5,right:20,left:0,bottom:5},children:[(0,N.jsx)(y.d,{strokeDasharray:"3 3"}),(0,N.jsx)(g.W,{dataKey:"displayName",tick:{fontSize:10}}),(0,N.jsx)(x.h,{domain:["dataMin - 5","dataMax + 5"]}),(0,N.jsx)(j.m,{formatter:e=>[`${e} mmHg`,""]}),(0,N.jsx)(p.s,{}),(0,N.jsx)(D.N,{type:"monotone",dataKey:"systolisch",name:"Systolisch",stroke:"#ff4136",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})}),z.seasonalData.length>0&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{className:"text-sm font-medium mb-2",children:"Jahreszeitliche Trends:"}),(0,N.jsx)("div",{className:"h-60",children:(0,N.jsx)(c.u,{width:"100%",height:"100%",children:(0,N.jsxs)(f,{data:z.seasonalData,margin:{top:5,right:20,left:0,bottom:5},children:[(0,N.jsx)(y.d,{strokeDasharray:"3 3"}),(0,N.jsx)(g.W,{dataKey:"name"}),(0,N.jsx)(x.h,{domain:["dataMin - 5","dataMax + 5"]}),(0,N.jsx)(j.m,{formatter:e=>[`${e} mmHg`,""]}),(0,N.jsx)(p.s,{}),(0,N.jsx)(u.y,{dataKey:"systolisch",name:"Systolisch",fill:"#ff4136",barSize:60})]})})})]})]}):(0,N.jsxs)("div",{className:"bg-amber-50 border border-amber-200 p-3 rounded-md flex items-start",children:[(0,N.jsx)(l.A,{size:20,className:"text-amber-500 mr-2 flex-shrink-0 mt-0.5"}),(0,N.jsx)("p",{className:"text-sm text-amber-800",children:(null===z||void 0===z?void 0:z.message)||"F\xfcr diese Analyse werden mehr Daten ben\xf6tigt."})]})})]}),(0,N.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>F("correlation"),children:[(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)(h.A,{size:22,className:"text-purple-600 mr-3"}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"font-medium",children:"Kontextfaktor-Korrelation"}),(0,N.jsx)("p",{className:"text-sm text-gray-600 mt-0.5",children:null!==E&&void 0!==E&&E.hasEnoughData?"Analysiert Einflussfaktoren auf Ihren Blutdruck":"Nicht gen\xfcgend Kontextdaten"})]})]}),(0,N.jsx)("div",{children:$.correlation?(0,N.jsx)(r.A,{size:24}):(0,N.jsx)(i.A,{size:24})})]}),$.correlation&&(0,N.jsx)("div",{className:"p-4 pt-0 border-t border-gray-100",children:null!==E&&void 0!==E&&E.hasEnoughData?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"p-3 bg-blue-50 rounded-md mb-3",children:(0,N.jsx)("p",{className:"text-sm",children:E.interpretation})}),(0,N.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:Object.entries(E.factorAnalysis).filter((e=>{let[s,t]=e;return t.correlation&&"gering"!==t.impact})).map((e=>{let[s,t]=e;return(0,N.jsxs)("div",{className:"bg-gray-50 p-3 rounded-md",children:[(0,N.jsx)("h4",{className:"font-medium text-sm mb-2",children:t.name}),t.hasEnoughDataPoints?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"h-36",children:(0,N.jsx)(c.u,{width:"100%",height:"100%",children:(0,N.jsxs)(v.b,{data:t.chartData,margin:{top:5,right:5,left:5,bottom:5},children:[(0,N.jsx)(y.d,{strokeDasharray:"3 3"}),(0,N.jsx)(g.W,{dataKey:"name"}),(0,N.jsx)(x.h,{domain:["dataMin - 5","dataMax + 5"]}),(0,N.jsx)(j.m,{formatter:(e,s)=>["systolisch"===s?`${e} mmHg`:e,"systolisch"===s?"Systolischer Blutdruck":s]}),(0,N.jsx)(D.N,{type:"monotone",dataKey:"systolisch",name:"Systolisch",stroke:"#ff4136",strokeWidth:2,dot:{r:4}})]})})}),t.correlation&&(0,N.jsxs)("div",{className:"mt-2 text-xs",children:[(0,N.jsx)("span",{className:"font-medium",children:"Einfluss: "}),(0,N.jsxs)("span",{className:`${"stark"===t.impact?"font-bold":""} ${"positiv"===t.correlation?"text-red-600":"negativ"===t.correlation?"text-blue-600":"text-gray-600"}`,children:["stark"===t.impact?"Starker":"mittel"===t.impact?"Mittlerer":"Geringer","positiv"===t.correlation?" erh\xf6hender":"negativ"===t.correlation?" senkender":""," Effekt"]})]})]}):(0,N.jsx)("p",{className:"text-xs text-gray-600",children:"Nicht gen\xfcgend Daten f\xfcr eine zuverl\xe4ssige Analyse."})]},s)}))})]}):(0,N.jsxs)("div",{className:"bg-amber-50 border border-amber-200 p-3 rounded-md flex items-start",children:[(0,N.jsx)(l.A,{size:20,className:"text-amber-500 mr-2 flex-shrink-0 mt-0.5"}),(0,N.jsx)("p",{className:"text-sm text-amber-800",children:(null===E||void 0===E?void 0:E.message)||"F\xfcr diese Analyse werden mehr Daten ben\xf6tigt."})]})})]})]})]}):null}}}]);
//# sourceMappingURL=104.3ea9356a.chunk.js.map